<div class="member-list-wrapper"><nav class="hoge-nav"><div class="hoge-table-add"><div class="hoge-edit-head member-head"><em>会员列表</em><div class="pull-right"><button class="btn hoge-btn-blue" ng-click="vm.creatMember()">新建会员</button></div></div></div></nav><main class="main-body"><div class="hoge-flex hoge-border white"><div class="left-list border-left-radius hoge-flex-one" my-loading="vm.memberLoading" load-signs="'memberLoading'"><div class="btn-toolbar list_bar filter-box m-l-0 m-b-0 hoge-table-search"><div class="btn-group dropdown hoge-dropdown"><button class="btn btn-sm dropdown-toggle too-long-style" data-toggle="dropdown"><span class="dropdown-label ng-binding">{{vm.currentGroup}}</span> <span class="caret"></span></button><div class="dropdown-menu text-left text-sm"><a class="dropdown-item ng-binding ng-scope" ng-repeat="group in vm.groupList" ng-click="vm.groupSelect(group)">{{group.group_name}}</a></div></div><div class="btn-group dropdown hoge-dropdown"><button class="btn btn-sm dropdown-toggle" data-toggle="dropdown"><span class="dropdown-label ng-binding">{{vm.state}}</span> <span class="caret"></span></button><div class="dropdown-menu text-left text-sm"><a class="dropdown-item ng-binding ng-scope" ng-repeat="state in vm.stateList" ng-click="vm.stateSelect(state)">{{state.name}}</a></div></div><div class="btn-group dropdown hoge-dropdown"><button class="btn btn-sm dropdown-toggle" data-toggle="dropdown"><span class="dropdown-label ng-binding">{{vm.currentTerminal}}</span> <span class="caret"></span></button><div class="dropdown-menu text-left text-sm"><a class="dropdown-item ng-binding ng-scope" ng-repeat="terminal in vm.terminalList" ng-click="vm.terminalSelect(terminal)">{{terminal.name}}</a></div></div><search-box key-word="vm.key" search-key="vm.search(Item)" key-press="vm.keyPress(Event)" hide-kind="vm.hideAccessKind" is-focus="vm.isFocus" place-holder="vm.placeholder"></search-box><div class="filter-contain pull-right" ng-show="false"><span>高级筛选</span> <i class="fa fa-caret-down"></i></div></div><div class="main-list"><div class="ErrorTip hoge-error ng-scope" ng-if="!vm.memberList[0] && !vm.memberLoading"><div><div class="error-img"></div><p>暂无内容</p></div></div><div class="list-header hoge-table-header" ng-show="vm.memberList[0]"><div class="wrap hoge-flex"><div class="list-ctr"></div><div class="list-customer flex-one">昵称</div><div class="list-role">注册来源</div><div class="list-role">角色</div><div class="list-role">电话</div><div class="list-role">分组</div><div class="list-i"></div></div></div><div class="list" ng-show="vm.memberList[0] "><div class="list-item hoge-flex hoge-item-border" ng-click="vm.itemDetails(item,$event)" ng-repeat="item in vm.memberList track by $index"><div class="list-ctr"><label class="checkbox-inline"><input type="checkbox" value="option1" ng-checked="vm.itemCheck(item,$event)" ng-click="vm.toggle(item,$event)"></label></div><div class="list-customer flex-one img-avatar-box"><div class="list-left w-60 avatar"><span class="w-60 circle member-img" ng-if="!item.avatar"></span> <img ng-show="item.avatar" ng-src="{{item.pic_src}}" class="w-60 circle"></div><div class="list-body"><div class="top-part"><a class="member_name" ng-show="item.nick_name">{{item.nick_name}}</a> <span ng-show="item.status == 0" class="locked-mem">已锁定</span></div><div class="bottom-part"><small class="text-muted" ng-show="item.group_name">{{item.group_name}}·</small> <small class="text-muted">注册时间：{{item.created_at}}</small></div></div></div><div class="list-role" my-loading="item.group_loading"><span class="msg-mobile">{{item.site_name}}{{item.reg_device_type}}</span></div><div class="list-role" my-loading="item.group_loading"><span class="msg-mobile">{{item.role_name}}</span></div><div class="list-role" my-loading="item.group_loading"><span class="msg-mobile">{{item.mobile}}</span></div><div class="list-role" my-loading="item.group_loading"><span ng-if="!(vm.permission.member.group | right)">{{item.placeholder}}</span><div class="group-wrap" ng-if="vm.permission.member.group | right"><div class="btn-group dropdown hoge-dropdown member-dropdown"><button class="btn btn-sm dropdown-toggle" data-toggle="dropdown" ng-disabled="!vm.changeGrouplist[0]"><span class="dropdown-label classification" title="{{item.placeholder}}">{{item.placeholder}}</span> <span class="caret"></span></button><div class="dropdown-menu text-left text-sm"><a class="dropdown-item" ng-repeat="group in vm.changeGrouplist" ng-click="vm.changeGroup(item,group,$event)">{{group.group_name}}</a></div></div></div></div><div class="list-i member-operate"><div class="hoge-list-i pull-right" ng-mouseenter="vm.showOpera(item,$event)" ng-mouseleave="vm.hideOpera(item,$event)"><div class="icon-tool pull-right"><i class="typeface-list_caozuo hoge-list_caozuo" ng-class="{'active-bg':item.searchShow}"></i><div class="pull-right list-icon-opera" ng-style="{'bottom': $index*5-10 + 'px','right': '40px'}" ng-class="{'opera-show':item.searchShow,'opera-hide':!item.searchShow}"><div class="btn-group"><button class="btn hoge-drop-icon" ng-if="item.status == 1" ng-click="vm.editState(item, 0)">锁定</button> <button class="btn hoge-drop-icon" ng-if="item.status == 0" ng-click="vm.editState(item, 1)">解锁</button> <button class="btn hoge-drop-icon" ng-click="vm.editMember(item)">编辑</button> <button class="btn hoge-drop-icon" ng-click="vm.singleDelete(item,$index)">删除</button></div></div></div></div></div></div></div></div><div class="list_bottom hoge-table-bottom" ng-if="!vm.memberLoading && vm.memberList[0]"><div class="btn-group"><label class="checkbox-inline"><input type="checkbox" ng-checked="vm.allChecked()" ng-click="vm.toggleAll()"> {{ 'member.allChose' | translate }}</label></div><div class="btn-toolbar list_bar flex-one btn-box"><div class="btn-group btn-default-box" my-loading="vm.release_loading"><button class="btn btn-outline btn-comment" ng-click="vm.releaseAll(1)" ng-if="vm.permission.member.lock | right">解锁</button></div><div class="btn-group btn-default-box" my-loading="vm.lock_loading"><button class="btn btn-outline btn-comment" ng-click="vm.releaseAll(0)" ng-if="vm.permission.member.lock | right">锁定</button></div><div class="btn-group dropdown dropup hoge-dropdown" ng-if="vm.permission.member.group | right"><button class="btn dropdown-toggle btn-sm groupBtn" data-toggle="dropdown" ng-disabled="!vm.changeGrouplist[0]" aria-expanded="false" my-loading="vm.group_loading"><span class="dropdown-label">更改分组</span></button><div class="dropdown-menu dropdown-menu-scale dropdown-menu-group" style="max-height:300px;overflow-y:auto"><a class="dropdown-item" ng-repeat="group in vm.changeGrouplist" ng-click="vm.changeGroup('all',group,$event)">{{group.group_name}}</a></div></div><div class="btn-group dropdown dropup hoge-dropdown"><button class="btn dropdown-toggle btn-sm groupBtn" data-toggle="dropdown" ng-disabled="!vm.changeRolelist[0]" aria-expanded="false" my-loading="vm.group_loading"><span class="dropdown-label">更改角色</span></button><div class="dropdown-menu dropdown-menu-scale dropdown-menu-group" style="max-height:300px;overflow-y:auto;height:100px"><a class="dropdown-item" ng-repeat="role in vm.changeRolelist" ng-click="vm.changeRole(role,$event)">{{role.role_name}}</a></div></div><div class="btn-group btn-default-box"><button class="btn del-btn" ng-click="vm.deleteAll()" ng-if="vm.permission.member.delete | right">删除</button></div></div><page-nation options="vm.pageOptions" turn-page="vm.changePage()" ng-show="vm.pageOptions.total > 10"></page-nation></div></div><div style="width:250px"></div><div class="fixed-box border-right-radius"><div class="right-details border-right-radius" my-loading="vm.itemLoading" load-signs="'itemLoading'"><div ng-if="vm.memStatistic.total"><div class="member-profile"><div class="part-title">会员概况:</div><div class="part-body"><div class="hoge-flex m-t-20"><div class="hoge-flex-one total-img-box"><span class="img-total"></span></div><div class="hoge-flex-one"><p class="total-mem">{{vm.memStatistic.total}}</p><span class="mem-description">注册会员总数</span></div></div><div class="hoge-flex m-t-20"><div class="hoge-flex-one"><p class="statistic-defalut todays">{{vm.memStatistic.today_added}}</p><span class="mem-description">今日新增</span></div><div class="hoge-flex-one"><p class="statistic-defalut">{{vm.memStatistic.yesterday_added}}</p><span class="mem-description">昨日新增</span></div></div><div class="hoge-flex m-t-20"><div class="hoge-flex-one"><p class="statistic-defalut todays">{{vm.memStatistic.today_active}}</p><span class="mem-description">今日登录</span></div><div class="hoge-flex-one"><p class="statistic-defalut">{{vm.memStatistic.yesterday_active}}</p><span class="mem-description">昨日登录</span></div></div></div></div><div class="source-distribe"><div class="part-title">来源分布:</div><div class="part-body"><div class="chart-style"><div class="chart-box" id="mem-pie" ui-jp="chart" ui-refresh="vm.isRefresh" ui-options="{{vm.statisticOptions}}"></div></div></div></div><div class="tips">Tips:此部分展示数据为会员总量，不随栏目切换变动，单击列表会员可以显示单个会员详细信息数据。</div></div></div><div class="item-details img-avatar-box border-right-radius" ng-class="{'show-item': vm.currentItem.showDetails,'hide-item':!vm.currentItem.showDetails}"><i class="fa fa-remove close-icon" ng-click="vm.close()"></i><div class="w-60 avatar"><span class="w-60 circle member-img" ng-if="!vm.currentItem.avatar"></span> <img ng-show="vm.currentItem.avatar" ng-src="{{vm.currentItem.pic_src}}" class="w-60 circle"></div><div class="mem-name">{{vm.currentItem.member_name}}</div><div class="default-msg base-msg"><div class="title">基本信息</div><div class="m-t-10"><span class="msg-subtitle">会员状态:</span> <span ng-if="vm.currentItem.status == 0" class="locked-name">已锁定</span> <span ng-if="vm.currentItem.status == 1">正常</span></div><div class="m-t-10"><span class="msg-subtitle">身份证号:</span> <span>{{vm.currentItem.ID || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">真实姓名:</span> <span>{{vm.currentItem.name || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">昵称:</span> <span>{{vm.currentItem.nick_name || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">生日:</span> <span>{{vm.currentItem.birthday || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">性别:</span> <span>{{vm.currentItem.gender || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">联系地址:</span> <span>{{vm.currentItem.address || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">手机号:</span> <span>{{vm.currentItem.mobile || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">邮箱:</span> <span>{{vm.currentItem.email || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">会员组:</span> <span>{{vm.currentItem.group_name || '未分组'}}</span></div><div class="m-t-10"><span class="msg-subtitle">积分:</span> <span>{{vm.currentItem.credits || '0'}}</span></div></div><div class="default-msg mem-msg"><div class="title">会员信息</div><div class="m-t-10"><span class="msg-subtitle">简介:</span> <span>{{vm.currentItem.signature || '暂无'}}</span></div></div><div class="default-msg login-msg"><div class="title">登录信息</div><div class="m-t-10"><span class="msg-subtitle">注册时间:</span> <span>{{vm.currentItem.created_at || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">注册终端:</span> <span>{{vm.currentItem.reg_device_type || '暂无'}}</span></div><div class="m-t-10" ng-class="{'hoge-flex':vm.currentItem.reg_device}"><span class="msg-subtitle" ng-class="{'hoge-flex-one':vm.currentItem.reg_device}" style="min-width:66px">注册设备号:</span> <span ng-class="{'hoge-flex-two':vm.currentItem.reg_device}">{{vm.currentItem.reg_device || '暂无'}}</span></div><div class="m-t-10"><span class="msg-subtitle">最后登录:</span> <span>{{vm.currentItem.last_login_time || '暂无'}}</span></div><div class="m-t-10" ng-class="{'hoge-flex':vm.currentItem.last_login_device}"><span class="msg-subtitle" ng-class="{'hoge-flex-two':vm.currentItem.last_login_device}" style="min-width:90px">最后登录设备号:</span> <span ng-class="{'hoge-flex-three':vm.currentItem.last_login_device}">{{vm.currentItem.last_login_device || '暂无'}}</span></div></div></div></div></div></main></div>