<main class="main-form-wrap audio-form-wrap" my-loading="vm.loading"><nav class="hoge-nav"><div class="hoge-table-add"><div class="hoge-edit-head"><div class="hoge-return-body" ng-if="vm.noEdit == 'topic'" onclick="history.go(-1)"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回专题</span></div><div ng-if="vm.noEdit !='topic' && !vm.hotFlag && !vm.publishFlag && !vm.commentFlag && !vm.reviewFlag" class="hoge-return-body" ui-sref="app.content.menu.list({type:'audio',page:vm.pageCount,per_num:vm.pageSize,title:vm.listSearch,status:vm.moduleStatus, category_id:vm.category_id})"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><div ng-if="vm.hotFlag" class="hoge-return-body" ui-sref="app.hot.menu.list({page:vm.pageCount,per_num:vm.pageSize})"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><div ng-if="vm.publishFlag" class="hoge-return-body" ui-sref="app.publish.menu.list({page:vm.pageCount,per_num:vm.pageSize,type:vm.publishType, hideSynergyKind: vm.hideAccessKind ? true : null, column_id:vm.column_id})"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><div ng-if="vm.commentFlag" class="hoge-return-body" ui-sref="app.comment.list({title:vm.listSearch, hideSynergyKind: vm.hideAccessKind ? true : null, project_id: vm.listProjectId ? vm.listProjectId : null, project_title: vm.listProjectTitle ? vm.listProjectTitle : null})"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><div ng-if="vm.reviewFlag" class="hoge-return-body" ui-sref="app.content.review.list({page:vm.pageCount,per_num:vm.pageSize,type:vm.reviewType, hideSynergyKind: vm.hideAccessKind ? true : null})"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><em ng-if="!vm.hotFlag && vm.noEdit != 'topic'">{{vm.audioId?'编辑':'新建'}}音频</em> <em ng-if="vm.hotFlag || vm.noEdit == 'topic'">阅读模式</em><div class="audio-process-width-status" ng-show="!vm.audioId"><span class="content-pendingAudit padding-r-w">待审核</span> <span class="process-span" ng-click="vm.chooseProcess()">{{vm.is_show_process ? '已选审核流程': '选择流程'}}</span><div class="process-data-box new-process-data-box" ng-if="vm.showProcessBox"><div class="step-nav-box"><span class="nav-box nav-title">已选流程&nbsp;&nbsp;(保存后生效)</span> <span class="nav-box nav-btn-re-election" ng-click="vm.reElectionProcess()">重选</span> <span class="nav-box nav-btn-clear" ng-click="vm.clearProcess()">清空</span></div><div class="step-box" ng-repeat="(stepIndex,stepItem) in vm.pro_list.nodes"><span class="step-name-box">{{stepItem.rangeName}}</span><div class="flex-item"><div class="step-img-box" ng-style="{'min-width': stepItem.range != 0 && 50+'px' ,'width': (stepItem.users.length > 0 && stepItem.users.length *30+'px') || (stepItem.role_departments.length > 0 && stepItem.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="stepItem.range==1"><div class="user-one no-avatar-bg{{idx}}" ng-repeat="(idx,userItem) in stepItem.users" ng-style="{'left':idx*25+'px'}" ng-if="idx <= 2"><span class="avatar-34 no-avatar" ng-if="!userItem.avatar"></span> <img class="avatar-34" ng-src="{{userItem.avatar}}" alt="" ng-if="userItem.avatar"> <span>{{userItem.name}}</span></div><div class="user-range-3" ng-style="{'left':idx*25+'px'}" ng-if="stepItem.range==3" ng-repeat="(idx,userItem) in stepItem.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"></div><span class="overflow-user" ng-if="stepItem.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{stepItem.users.length - 3}}</span></span></div><div class="role-arrow" ng-if="stepIndex != (vm.processData.nodes.length - 1)"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div><div class="audio-process-width-status" ng-show="vm.audioId && vm.create_user_name == vm.user_name"><span class="process-span" ng-if="vm.editStatus==1 && !vm.auditId" ng-click="vm.chooseProcess()">{{vm.is_show_process ? '已选审核流程': '选择流程'}}</span><div class="process-data-box" ng-if="vm.showProcessBox"><div class="step-nav-box"><span class="nav-box nav-title">已选流程&nbsp;&nbsp;(保存后生效)</span> <span class="nav-box nav-btn-re-election" ng-click="vm.reElectionProcess()">重选</span> <span class="nav-box nav-btn-clear" ng-click="vm.clearProcess()">清空</span></div><div class="step-box" ng-repeat="(stepIndex,stepItem) in vm.pro_list.nodes"><span class="step-name-box">{{stepItem.rangeName}}</span><div class="flex-item"><div class="step-img-box" ng-style="{'min-width': stepItem.range != 0 && 50+'px' ,'width': (stepItem.users.length > 0 && stepItem.users.length *30+'px') || (stepItem.role_departments.length > 0 && stepItem.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="stepItem.range==1"><div class="user-one no-avatar-bg{{idx}}" ng-repeat="(idx,userItem) in stepItem.users" ng-style="{'left':idx*25+'px'}" ng-if="idx <= 2"><span class="avatar-34 no-avatar" ng-if="!userItem.avatar"></span> <img class="avatar-34" ng-src="{{userItem.avatar}}" alt="" ng-if="userItem.avatar"> <span>{{userItem.name}}</span></div><div class="user-range-3" ng-style="{'left':idx*25+'px'}" ng-if="stepItem.range==3" ng-repeat="(idx,userItem) in stepItem.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"></div><span class="overflow-user" ng-if="stepItem.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{stepItem.users.length - 3}}</span></span></div><div class="role-arrow" ng-if="stepIndex != (vm.processData.nodes.length - 1)"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div><div class="edit-width-status" ng-if="vm.publishFlag"><span class="content-audited">已发布</span></div><div class="edit-width-status" ng-if="!vm.publishFlag" ng-class="{'other-edit-width-status': vm.editStatus!=1 || vm.create_user_name != vm.user_name}"><span class="content-pendingAudit" ng-if="vm.editStatus==1 && !vm.auditId">待审核</span> <span class="content-audited" ng-if="vm.editStatus==2">已审核</span> <span class="content-audited" ng-if="vm.editStatus==3" translate="content.release">已发布</span> <span class="content-repulsed" ng-if="vm.editStatus==4">已打回</span> <span class="content-repulsed" ng-if="vm.editStatus==9">待发布</span> <span class="content-repulsed" ng-if="vm.editStatus==5 || (vm.editStatus==1 && vm.auditId)">审核中</span><span class="triangle-btn status-btn" ng-style="{borderTopColor: (vm.editStatus == 2 || vm.editStatus == 3) ? '#42a65a' : '#f1453d'}" ng-if="(vm.editStatus==5 || (vm.editStatus==1 && vm.auditId) || vm.editStatus==2 || vm.editStatus==3 || vm.editStatus==4 || vm.editStatus==9) && vm.auditId" ng-click="vm.toggleShowAudit()"></span><div class="audit-contain" ng-if="vm.showAudit"><div class="audit-top"><button class="tog-btn" ng-click="vm.toggleLog(1)" ng-class="{'active': !vm.showLog}">基本信息</button> <button class="tog-btn posi" ng-click="vm.toggleLog(2)" ng-class="{'active': vm.showLog}">审稿日志</button></div><div class="audit-mid" ng-if="!vm.showLog"><div class="mid-top"><span class="cur-pro">当前进度(<span ng-if="vm.editStatus==5 || (vm.editStatus==1 && vm.auditId)">{{vm.currentAudioProgress}}级审核</span><span ng-if="vm.editStatus==2 || vm.editStatus==3">审核完成</span><span ng-if="vm.editStatus==4">已打回</span><span ng-if="vm.editStatus==9">待发布</span>)</span> <span class="full-pro" ng-click="vm.showFullProcess()">完整流程</span><div class="right-div" ng-if="vm.showRightDiv"><div class="box"></div><div class="process-nodes"><div class="node-item" ng-repeat="(ndx,node) in vm.processData.nodes"><div class="node-main"><div class="node-name" ng-if="node.user.name">{{node.user.name}}</div><div class="node-name" ng-if="(node.range == 1 || node.range == 2 || node.range == 3) && !node.user.name"><span ng-if="node.range == 2">指定用户</span> <span ng-if="node.range == 1">全体用户</span> <span ng-if="node.range == 3">部门角色</span> <img class="branch" ng-if="node.range == 3" src="/assets/images/mxu/review/icon_bumenjuese@2x.png" alt=""> <span class="content-repulsed" ng-if="node.isAuditing">审核中</span></div><div class="node-role flex-item"><div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1"><div class="user-img-box" ng-if="node.range==2"><div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3" ng-style="{'left':idx*25+'px'}"><img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar"> <i class="typeface-dropdown_xuanze audit-pass" ng-if="node.hasPass"></i> <i class="typeface-form_guanbi audit-back" ng-if="node.isBlocked"></i> <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}" ng-if="!user.avatar">{{user.avatarName}}</span><div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}"><span class="arrow bottom b-white"></span><div class="box-body">{{user.name}}</div></div></div><span class="overflow-user" ng-if="node.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{node.users.length-3}}</span></span></div><div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"><div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }"><span class="arrow bottom b-white"></span><div class="box-body">{{user.role.name}}</div></div></div><div class="avatar-34 ellipsis-box" ng-if=" node.range == 0"><i class="typeface-list_caozuo"></i></div></div><div class="role-arrow" ng-if="$index != (vm.processData.nodes.length - 1)"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div></div><div class="bottom-div" ng-if="vm.showBottomDiv"><div class="box"></div><div class="process-nodes"><div class="node-item" ng-repeat="(ndx,node) in vm.processData.nodes"><div class="node-main"><div class="node-name" ng-if="node.user.name">{{node.user.name}}</div><div class="node-name" ng-if="(node.range == 1 || node.range == 2 || node.range == 3) && !node.user.name"><span ng-if="node.range == 2">指定用户</span> <span ng-if="node.range == 1">全体用户</span> <span ng-if="node.range == 3">部门角色</span> <img class="branch" ng-if="node.range == 3" src="/assets/images/mxu/review/icon_bumenjuese@2x.png" alt=""> <span class="content-repulsed" ng-if="node.isAuditing">审核中</span></div><div class="node-role flex-item"><div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1"><div class="user-img-box" ng-if="node.range==2"><div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3" ng-style="{'left':idx*25+'px'}"><img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar"> <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}" ng-if="!user.avatar">{{user.avatarName}}</span><div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}"><span class="arrow bottom b-white"></span><div class="box-body">{{user.name}}</div></div></div><span class="overflow-user" ng-if="node.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{node.users.length-3}}</span></span></div><div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"><div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }"><span class="arrow bottom b-white"></span><div class="box-body">{{user.role.name}}</div></div></div><div class="avatar-34 ellipsis-box" ng-if=" node.range == 0"><i class="typeface-list_caozuo"></i></div></div><div class="role-arrow" ng-if="$index != (vm.processData.nodes.length - 1)"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div></div></div><div class="process-nodes"><div class="node-item" ng-repeat="(ndx,node) in vm.currentNodes"><div class="node-main"><div class="node-name" ng-if="node.user.name">{{node.user.name}}</div><div class="node-name" ng-if="(node.range == 1 || node.range == 2 || node.range == 3) && !node.user.name"><span ng-if="node.range == 2">指定用户</span> <span ng-if="node.range == 1">全体用户</span> <span ng-if="node.range == 3">部门角色</span> <img class="branch" ng-if="node.range == 3" src="/assets/images/mxu/review/icon_bumenjuese@2x.png" alt=""> <span class="content-repulsed" ng-if="node.isAuditing">审核中</span></div><div class="node-role flex-item"><div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1"><div class="user-img-box" ng-if="node.range==2"><div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3" ng-style="{'left':idx*25+'px'}"><i class="typeface-dropdown_xuanze audit-pass" ng-if="node.hasPass"></i> <i class="typeface-form_guanbi audit-back" ng-if="node.isBlocked"></i> <img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar"> <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}" ng-if="!user.avatar">{{user.avatarName}}</span><div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}"><span class="arrow bottom b-white"></span><div class="box-body">{{user.name}}</div></div></div><span class="overflow-user" ng-if="node.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{node.users.length-3}}</span></span></div><div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"><div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }"><span class="arrow bottom b-white"></span><div class="box-body">{{user.role.name}}</div></div></div><div class="avatar-34 ellipsis-box" ng-if=" node.range == 0"><i class="typeface-list_caozuo"></i></div></div><div class="role-arrow" ng-if="node.hasNext"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div><div class="mid-bottom"><div class="title">稿件评论({{vm.commentList.length}})</div><div class="content"><div class="no-data" ng-if="!vm.commentList.length && !vm.commentLoading"><div><img class="no-data-img" src="/assets/images/mxu/review/img_nothing@2x.png" alt=""><p class="text">暂无评论</p></div></div><div class="item" ng-repeat="comment in vm.commentList track by $index"><img class="image" ng-src="{{comment.user.avatar}}" ng-if="comment.user.avatar" alt=""> <span class="image no-avatar-bg{{comment.user.bgColor}}" ng-if="!comment.user.avatar">{{comment.user.avatarName}}</span><div class="name"><span>{{comment.user.name}}</span> <span class="time">{{comment.time}}</span></div><p class="comment">{{comment.content}}</p></div></div></div></div><div class="audit-bottom" ng-if="!vm.showLog"><input type="text" class="bottom-input" ng-model="vm.comment" placeholder="输入评论"> <button class="primary-btn" ng-click="vm.setComment()">确定</button></div><div class="audit-mid" ng-if="vm.showLog"><div class="no-data" ng-if="!vm.logList.length && !vm.logLoading">暂无数据</div><div class="log-item" ng-repeat="log in vm.logList track by $index"><p class="time">{{log.created_at}}</p><p class="operation">{{log.name}} {{log.operationName}} 了该稿件。<span ng-if="log.operation == 2">评论：{{log.reason}}</span></p></div></div></div></div></div></div></nav><div class="form-content hoge-flex" ng-class="{'no-event':vm.noEdit}"><aside class="left-aside default-left"><div class="side_form_fixed"><content-attr dropdown-show="vm.showDropdown" is-zyshow="vm.showZY" content-param="vm.contentParam" detail-category-name="vm.detailCategoryName" detail-column-name="vm.detailColumnName" detail-fenlei-name="vm.detailFenleiName" open-base="vm.openBase" cover-style="vm.coverStyle"></content-attr></div></aside><div><div class="main-form-content hoge-border"><div class="content-form-title"><div class="title-box list-title"><input type="text" name="title" autocomplete="off" placeholder="请输入音频标题" maxlength="60" ng-model="vm.audioDetail.title" ng-class="{'mengyu-font': vm.resMengyu(vm.audioDetail.title)}" ng-blur="vm.relevant('blur')"><div ng-class="{'mengyu-title': vm.resMengyu(vm.audioDetail.title)}" ng-if="vm.resMengyu(vm.audioDetail.title)"><span class="jiantou arrow bottom"></span> <span class="hideTitle">{{vm.audioDetail.title}}</span></div><content-title-tip is-zyshow="vm.showZY" tip-title="vm.audioDetail.title" top="12"></content-title-tip></div></div><div class="audio-content" ng-if="!vm.audioId"><div class="form-audio flex-item"><div class="hoge-flex-one audio-upload flex-item" ng-if="!vm.audioId"><div><div class="upload-box" ng-if="!vm.audioList.length && !vm.showOnline" uploader="vm.uploader" multiple><div nv-file-over="" uploader="vm.uploader" over-class="b-danger"><div class="box-top"><img class="upload-img" src="/assets/images/mxu/file_upload@2x.png" alt=""> <span class="upload-chose">选择音频文件</span> <span class="upload-tip" ng-style="{'margin-bottom': vm.showCre?'10px':'30px'}">可将音频文件拖到此区域</span> <input class="input-inner" id="input-inner" type="file" accept=".wav,.aif,.au,.mp3,.ram,.wma,.mmf,.amr,.aac,.flac" nv-file-select="" uploader="vm.uploader" multiple></div><span class="cre-chose" ng-if="vm.showCre" ng-click="vm.MaterialRef()">素材引用</span></div></div><div class="audio-list-box" ng-if="vm.audioList.length && !vm.showOnline"><span class="list-tip">已选文件:</span> <span class="list-box flex-item hoge-flex-center"><img src="/assets/images/mxu/news/icon_wengaoziyuan_shipin@2x.png" alt=""> <span class="audio-title" ng-if="!vm.creSource">{{vm.audioList[0].file.name}}</span> <span class="audio-title" ng-if="vm.creSource">{{vm.audioName}}</span> <span class="audio-close" ng-click="vm.deleteAudio()"><i class="typeface-form_guanbi fa"></i> <i class="typeface-bar_chexiao fa"></i></span></span></div><div class="audio-online" ng-if="vm.showOnline"><span class="list-tip">在线音频地址:</span> <span class="list-box flex-item hoge-flex-center"><div ng-if="!vm.editOnline"><span class="audio-title">{{vm.audioDetail.online}}</span> <i class="typeface-form_edit fa" ng-click="vm.onlineEdit()"></i> <span class="audio-close"><i class="typeface-form_guanbi fa"></i> <i class="typeface-bar_chexiao fa" ng-click="vm.deleteAudio()"></i></span></div><div ng-if="vm.editOnline" class="online-edit flex-item hoge-flex-center"><input type="text" ng-model="vm.audioDetail.online" placeholder="请输入在线音频地址" id="online-input"> <button class="btn primary-btn" ng-click="vm.onlineEdit()">确认</button> <button class="btn hoge-white-btn" ng-click="vm.cancelEdit()">取消</button></div></span></div><div class="upload-progress flex-item hoge-flex-center hoge-flex-justify-center" ng-if="vm.onprocess"><div><span>上传中，请稍等…</span><div class="progress"><div class="progress-bar primary" ng-style="{width:vm.audioList[0].progress+'%'}"></div></div></div></div></div></div><div class="audio-tip"><div><p>温馨提示：</p><p>1. 音频支持wav，aif，au，mp3，ram，wma，mmf，amr，aac，flac等主流格式的文件。</p><p>2. 上传音频大小需在2G以内</p></div></div></div></div><div class="audio-pre-body" ng-if="vm.audioId"><div class="audio-pre-main"><div class="audio-pre-main-top"><div ng-class="{'under-index':vm.audioDetail.transcode_status==2 &&vm.videoShow,
                'common-index':!vm.videoShow && vm.audioDetail.transcode_status==2}"><video ng-if="vm.audioDetail.transcode_status==2" id="really-cool-audio" class="video-js vjs-big-play-centered video-js vjs-default-skin can-event" controls preload="auto" poster="/assets/images/mxu/audio/bg-audio@2x.png" style="width:590px;height:140px" data-setup="{}"></video></div><div class="audio-list-box" ng-if="vm.audioDetail.transcode_status!=2 && !vm.loading"><span class="list-tip">音频转码:</span> <span class="list-box flex-item hoge-flex-center"><div class="status-info"><div class="info-top" ng-class="{'flex-item':vm.audioDetail.transcode_status == -1,'hoge-flex-center':vm.audioDetail.transcode_status == -1}"><span class="audio-title">{{vm.audioDetail.origin_filename}}</span> <span class="status-tip" ng-if="vm.audioDetail.transcode_status == 0">等待转码</span> <span class="status-tip" ng-if="vm.audioDetail.transcode_status == 1">正在转码</span> <span class="status-tip status-fail" ng-if="vm.audioDetail.transcode_status == -1"><i class="fa typeface-alert_jinggao"></i> 转码失败</span></div><div class="progress active" ng-if="vm.audioDetail.transcode_status == 0"><div class="progress-bar info" style="width:100%;background-color:#d8e2f0"></div></div><div class="progress active" ng-if="vm.audioDetail.transcode_status == 1" style="background-color:#d8e2f0"><div class="progress-bar info" ng-style="{width:vm.percent+'%'}" style="background-color:#3598dc"></div></div></div></span></div></div><div class="audio-pre-main-bottom" ng-if="vm.creSourceType != 'url'"><span>音频时长：{{vm.audioDetail.duration_format}}秒</span> <span>音频大小：{{vm.audioDetail.size_format}}</span> <span>源音频大小：{{vm.audioDetail.originSize}}</span></div><div class="downLoad-part" ng-if="vm.creSourceType != 'url'"><span ng-click="vm.downLoadAudio('origin')" ng-if="vm.audioDetail.origin_filename">下载源音频</span> <span ng-click="vm.downLoadAudio('target')" ng-if="vm.audioDetail.transcode_status ==2">下载音频</span> <span ng-if="!vm.audioDetail.origin_filename" class="no-click">下载源音频</span> <span ng-if="vm.audioDetail.transcode_status!=2" class="no-click">下载音频</span></div></div></div><content-save ng-if="vm.noEdit !='topic'" save="vm.save()" save-audit="vm.save('saveAudit')" preview="vm.preview()" handle-cancel="vm.cancelForm()" load="vm.save_loading" clicked="vm.clicked" is-show="false" type="vm.contentParam.urlType" show-zbtn="vm.showZY" id="vm.audioId" is-read-only="vm.noEdit"></content-save></div></div><aside class="right-aside"><div class="draft-right"><div class="side_form_fixed"><workcall-front topic-array="vm.topicAssociated" topic-id="vm.topicId"></workcall-front><key-words match-key="vm.achieve()" key-list="vm.keyList" loading="vm.matchLoading" key="vm.key" lin-key="vm.associate()"></key-words><div class="m-t"><content-relevant related-ids="vm.relatedIds" relevant-list="vm.relevantList" content-id="vm.audioDetail.id" content-type="'audio'" relevant-error="vm.relevantError" get-relevant="vm.getRelevantList()"></content-relevant></div></div></div></aside></div></main><hot-footer ng-if="vm.hotFlag" hot-id="vm.id" hot-status="vm.status" this-status="vm.thisStatus" hot-title="vm.title" type="vm.type" this-type="vm.thisType" button-id="vm.ButtonId"></hot-footer><div class="hogeTipModal hoge-no-edit-tip no-edit-tip-revise" ng-if="vm.noEdit"><div class="hoge-modal-tip hoge-tip-orgInfo"><i class="typeface-alert_jinggao fa"></i><span class="hoge-tip-txt" ng-if="vm.noEdit==2">当前稿件权限为只读</span> <span class="hoge-tip-txt" ng-if="(vm.noEdit==1 && vm.hotFlag) || vm.noEdit == 'topic'">内容仅供阅读，不可编辑</span><span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 2">当前稿件的审核状态为已审核，编辑功能不可用</span> <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 3">当前稿件的审核状态为已发布，编辑功能不可用</span> <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 5">当前稿件的审核状态为审核中，编辑功能不可用</span> <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 9">当前稿件的审核状态为待发布，编辑功能不可用</span> <span class="hoge-tip-txt" ng-if="vm.noEdit==2">当前稿件权限为只读</span><span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && vm.hotList">目前稿件已被采纳不可编辑</span></div></div><m2o-footer is-color="true" is-show="1"></m2o-footer>