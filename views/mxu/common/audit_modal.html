<div class="modal-cover-img box-shadow-md" ng-class="{'other-audits': !vm.audit_show, 'body-audits': vm.audit_show}"><div class="modal-header"><div class="title"><span>提审</span></div><div class="close-btn" ng-click="vm.close()"><i class="typeface-form_guanbi"></i></div></div><div class="body-audit" ng-if="vm.audit_show"><div class="modal-body"><div class="audit-box"><div class="content"><div class="process-item" ng-repeat="item in vm.auditList"><div class="title">{{item.name}}</div><div class="tag_shengao"><img src="/assets/images/mxu/review/tag_shengao_moren@2x.png" alt=""></div><div class="process-main flex-item"><div class="process-nodes flex-item"><div class="node-item" ng-repeat="(ndx,node) in item.showNodes"><div class="node-main"><div class="node-name">{{node.rangeName}}</div><div class="node-role flex-item"><div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1"><div class="user-img-box" ng-if="node.range==2"><div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3" ng-style="{'left':idx*25+'px'}"><img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar"> <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}" ng-if="!user.avatar">{{user.avatarName}}</span><div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}"><span class="arrow bottom b-white"></span><div class="box-body">{{user.name}}</div></div></div><span class="overflow-user" ng-if="node.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{node.users.length-3}}</span></span></div><div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"><div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }"><span class="arrow bottom b-white"></span><div class="box-body">{{user.role.name}}</div></div></div><div class="avatar-34 ellipsis-box" ng-if=" node.range == 0"><i class="typeface-list_caozuo"></i></div></div><div class="role-arrow" ng-if="ndx != item.showNodes.length - 1"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div></div></div></div></div><div class="other-audit">当前栏目存在其他审稿模式，点击<span class="switch" ng-click="vm.getList()">切换 ></span></div></div><div class="modal-footer"><button type="button" class="btn btn-default button" ng-click="vm.close()">取消</button> <button type="button" class="btn btn-primary button" ng-click="vm.submit()">提审</button></div></div><div class="other-audit" ng-if="!vm.audit_show"><div class="modal-body"><div class="title-num">当前共有{{vm.processList.length}}种审核流程：</div><div class="audit-box"><div class="content"><div class="process-item" ng-repeat="item in vm.processList"><div class="title"><input type="radio" class="audit-title" ng-checked="item.select_default" name="audit" ng-click="vm.check(item)"> <span>{{item.name}}</span></div><div class="tag_shengao" ng-if="item.default"><img src="/assets/images/mxu/review/tag_shengao_moren@2x.png" alt=""></div><div class="process-main flex-item"><div class="process-nodes flex-item"><div class="node-item" ng-repeat="(ndx,node) in item.showNodes"><div class="node-main"><div class="node-name">{{node.rangeName}}</div><div class="node-role flex-item"><div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"><img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1"><div class="user-img-box" ng-if="node.range==2"><div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3" ng-style="{'left':idx*25+'px'}"><img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar"> <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}" ng-if="!user.avatar">{{user.avatarName}}</span><div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}"><span class="arrow bottom b-white"></span><div class="box-body">{{user.name}}</div></div></div><span class="overflow-user" ng-if="node.users.length >= 4"><i class="typeface-form_zengjia fa"></i> <span class="overflow-num">{{node.users.length-3}}</span></span></div><div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments"><img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png"><div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }"><span class="arrow bottom b-white"></span><div class="box-body">{{user.role.name}}</div></div></div><div class="avatar-34 ellipsis-box" ng-if=" node.range == 0"><i class="typeface-list_caozuo"></i></div></div><div class="role-arrow" ng-if="ndx != item.showNodes.length - 1"><i class="typeface-shengao_xiayige"></i></div></div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-primary button" ng-click="vm.getAudit()">确认</button> <button type="button" class="btn btn-default button" ng-click="vm.audit_show = !vm.audit_show">取消</button><div class="check-btn"><input type="checkbox" ng-checked="vm.checkDefault" ng-click="vm.checkDefault = !vm.checkDefault"> <span>设为我的默认选择</span></div></div></div></div>