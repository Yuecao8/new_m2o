<div class="modal-cover-img box-shadow-md"><div class="modal-header"><h5 class="modal-title">{{ vm.urlType == 'article' ? '网络图片' : '添加封面'}}</h5><i class="fa fa-remove close-icon" ng-click="vm.close()"></i></div><div class="modal-body"><div ng-if="vm.urlType != 'article'"><ul class="tab-ul nav nav-pills"><li class="tab-item nav-item"><span class="nav-link active" data-toggle="tab" data-target="#tab1">手动上传</span></li><li class="tab-item nav-item" ng-if="vm.urlType == 'gallery'|| vm.urlType == 'video'"><span class="nav-link" data-toggle="tab" data-target="#tab2" translate="">{{vm.urlType == 'gallery' ? '图集图片' : '视频截图' }}</span></li><li class="tab-item nav-item"><span class="nav-link" data-toggle="tab" data-target="#tab3">网络图片</span></li></ul></div><div class="tab-content" ng-class="{'new-cover': vm.urlType == 'article'}"><div class="tab-pane animated fadeIn text-muted upload-tab1" id="tab1" ng-class="{'active':vm.urlType != 'article'}"><div class="upload-cover" ng-if="!vm.showList[0]"><img src="../../../assets/images/mxu/content/impUp_2x.png" alt=""><div class="upload-contain"><input type="file" nv-file-select="" uploader="vm.coverloader" accept="image/gif,image/jpeg,image/png,image/jpg"> <button class="btn btn-purple">点击上传图片</button></div><p class="upload-tip">支持jpg、jpeg、png</p></div><div><div class="img-contain" ng-if="vm.showList[0]"><div class="img-item" ng-class="{'chosedItem': vm.showList[0].chosed}"><img ng-src="{{vm.showList[0].origin_url}}" alt=""><div class="chose-box" ng-if="!vm.showList[0].chosed" ng-click="vm.uploadChose(vm.showList[0])"><div class="change-tip">点击选择封面</div></div></div></div></div></div><div class="tab-pane animated fadeIn text-muted" id="tab2" ng-if=" vm.urlType == 'article' || vm.urlType == 'gallery'|| vm.urlType == 'video'"><div class="content-imgs" ng-if="vm.urlType == 'article'"><div class="gallery-body"><div class="no-gallery hoge-error" ng-if="!vm.newsList[0]"><div><div class="error-img"></div><p>暂无文稿正文图片</p></div></div><div class="gallery-body-flex" ng-if="vm.newsList[0]"><div class="gallery-contain" ng-class="{'chosedItem': news.chosed}" ng-repeat="news in vm.newsList"><div class="image-contain"><img class="gallery-url" src="{{news.newsImg}}" alt=""></div><div class="chose-box" ng-if="!news.chosed" ng-click="vm.newsChose(news)"><div class="change-tip">{{ 'common.clickChoseCover'| translate}}</div></div></div></div></div><div class="list_bottom" ng-if="vm.newsList.length > 0"><page-nation options="vm.newsOptions" turn-page="vm.newsPage()"></page-nation></div></div><div class="content-imgs" ng-if="vm.urlType == 'gallery'"><div class="gallery-body"><div class="no-gallery hoge-error" ng-if="!vm.galleryList[0]"><div><div class="error-img"></div><p>请先退出弹窗，并上传图集照片</p></div></div><div class="gallery-body-flex" ng-if="vm.galleryList[0]"><div class="gallery-contain" ng-class="{'chosedItem': gallery.chosed}" ng-repeat="gallery in vm.galleryList"><div class="image-contain"><img class="gallery-url" src="{{gallery.photo_url}}" alt=""></div><div class="chose-box" ng-if="!gallery.chosed" ng-click="vm.galleryChose(gallery)"><div class="change-tip">{{ 'common.clickChoseCover'| translate}}</div></div></div></div></div><div class="list_bottom" ng-if="vm.galleryList.length > 0"><page-nation options="vm.pageOptions" turn-page="vm.turnPage()"></page-nation></div></div><div class="content-imgs content-video" ng-if="vm.urlType == 'video'"><div class="gallery-body video-body"><div class="no-gallery hoge-error" ng-if="!vm.videoList[0]"><div><div class="error-img"></div><p>{{vm.videoTip}}</p></div></div><div class="preview-video"><img src="{{vm.preview_video}}" alt=""></div><div class="gallery-contain video-contain" ng-class="{'chosedItem': video.chosed}" ng-repeat="video in vm.videoList" ng-mouseover="vm.previewVideo(video)"><div class="image-contain"><img class="gallery-url" src="{{video.url}}" alt=""></div><div class="chose-box" ng-if="!video.chosed" ng-click="vm.videoChose(video)"><div class="change-tip">{{ 'common.clickChoseCover'| translate}}</div></div></div></div></div></div><div class="tab-pane animated fadeIn text-muted" id="tab3" ng-class="{'active':vm.urlType == 'article'}"><div class="input-group input-group-sm search-webimg"><input type="text" class="form-control p-x" ng-keypress="vm.keyPress($event)" ng-model="vm.searchWord" placeholder="{{ 'common.search'| translate}}..."> <span class="input-group-btn"><button type="submit" class="btn primary-btn white no-shadow" ng-click="vm.search()" style="border-width:0;background:#108ee9">搜索</button></span></div><div class="content-imgs search-contain"><div class="gallery-body search-body" my-loading="vm.galleryLoading"><div class="text-right search-tip">图片均来自网络，请遵守版权</div><div class="no-gallery hoge-error" ng-if="!vm.searchList[0] && !vm.galleryLoading"><div><div class="error-img"></div><p>暂无内容</p></div></div><div class="gallery-contain-body gallery-body-flex" ng-if="vm.searchList[0]"><div class="gallery-contain" ng-class="{'chosedItem': searchItem.chosed}" ng-repeat="searchItem in vm.searchList"><div class="image-contain"><img class="search-url gallery-url" src="{{searchItem.url}}" alt=""></div><div class="down-box" ng-if="!searchItem.ondown && !searchItem.isdown && !searchItem.chosed" ng-click="vm.searchDown(searchItem, $index)"><div class="on-down"></div></div><div class="ondown-box" ng-show="searchItem.ondown"><div class="progress-contain"><uib-progressbar class="progress-striped progress-bar-success active m-b-sm" value="searchItem.proValue" type="success" max="100"></uib-progressbar></div></div><div class="chose-box" ng-if="searchItem.isdown && !searchItem.chosed && !searchItem.ondown" ng-click="vm.searchChose(searchItem, $index)"><div class="change-tip">{{ 'common.clickChoseCover'| translate}}</div></div></div></div></div><div class="list_bottom" ng-if="vm.searchList.length > 0"><div class="pages-operate"><div class="list_page"><div class="btn-group"><button type="button" class="btn btn-sm white btn-page" ng-disabled="vm.searchOptions.pageCur==0" ng-click="vm.onPrev()"><i class="fa fa-chevron-left"></i></button> <button type="button" class="btn btn-sm white btn-page btn-radius" ng-click="vm.onNext()"><i class="fa fa-chevron-right"></i></button></div></div></div></div></div></div></div></div><div class="modal-footer" ng-if="vm.chosed.origin_url"><button type="button" class="btn primary-btn" ng-click="vm.save()" my-loading="vm.save_loading">确认</button> <button type="button" class="btn cancel-btn" ng-click="vm.close()">取消</button></div></div>