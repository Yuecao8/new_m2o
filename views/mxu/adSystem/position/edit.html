<div class="editDate-wrap"><div class="editDate-section"><div class="p-v-md"><div class="hoge-edit-head"><div class="hoge-return-body" onclick="history.back(-1)"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><em>{{vm.id ? '编辑广告位' : '新增广告位'}}</em></div></div><div class="edit-form" my-loading="vm.advLoading"><form class="form-card" name="form" ng-show="!vm.advLoading"><div class="header">基本信息</div><div class="content"><div class="form-group pos-rela"><label class="label-name">位名称:</label> <input type="text" ng-model="vm.name" maxlength="10" placeholder="请输入" ng-focus="vm.nameFocus = true" ng-class="{'focus-color':vm.nameFocus,'disabled-item':vm.id}" ng-blur="vm.nameFocus = false" ng-disabled="vm.id"><div class="form-tip">创建之后无法修改</div></div><div class="form-group pos-rela"><label class="label-name">英文标识:</label> <input type="text" ng-model="vm.mark" placeholder="请输入" ng-change="vm.testCode()" ng-focus="vm.markFocus = true" ng-class="{'focus-color':vm.markFocus,'disabled-item':vm.id,'red-border':vm.error}" ng-blur="vm.markFocus = false" ng-disabled="vm.id"><div class="form-tip" ng-if="!vm.error">创建之后无法修改</div><div class="form-tip red-tip" ng-if="vm.error">只支持大小写字母、数字、中划线、下划线</div></div><div class="form-group"><label class="label-name">所属终端:</label><div class="group-content"><label class="radio-inline" ng-repeat="item in vm.group"><input ng-model="vm.group_id" name="'group'" type="radio" value="{{item.id}}">{{item.name}}</label></div></div><div class="form-group type-mater"><label class="label-name">素材类型:</label><div class="group-content"><label class="checkbox-inline" ng-repeat="vv in vm.attach"><input type="checkbox" ng-checked="vm.attachCheck(vv.id)" ng-click="vm.toggle(vv.id)"> {{vv.name}}</label></div></div><div class="form-group"><label class="label-name">状态:</label> <label class="ui-switch"><span class="switch-open">开</span> <span class="switch-close">关</span> <input type="checkbox" ng-checked="vm.is_use == true" ng-model="vm.is_use"> <i></i></label></div><div class="form-group"><label class="label-name">显示点讯广告:</label> <label class="ui-switch"><span class="switch-open">开</span> <span class="switch-close">关</span> <input type="checkbox" ng-checked="vm.is_dianxun == true" ng-model="vm.is_dianxun"> <i></i></label></div><div class="form-group"><label class="label-name">广告输出类型:</label><div class="group-content"><label class="radio-inline" ng-repeat="item in vm.outputType"><input ng-model="vm.outputTypeId" name="'outputType'" type="radio" value="{{item.id}}">{{item.name}}</label></div></div></div></form><div class="form-card" ng-show="!vm.advLoading"><div class="header">自定义参数</div><div class="dataConditions"><div class="list_contain hoge-table-contain white" my-loading="vm.paramListLoading"><div class="table_header hoge-table-header"><div class="b-l b-white flex-item"><div class="list-title flex-one">参数名称</div><div class="list-input">参数标识</div><div class="list-defaults">默认值</div><div class="list-type">类型</div><div class="list-drop">下拉数据</div><div class="list-i">操作</div></div></div><div class="list white" ng-show="vm.paramList.length"><div class="list-item hoge-item-border flex-item" ng-repeat=" (idx,nor) in vm.paramList track by $index"><div class="list-title flex-one"><input type="text" class="input-list" maxlength="10" ng-model="nor.title" ng-focus="nor.focusTitle = true" ng-class="{'focus-color':nor.focusTitle}" ng-blur="nor.focusTitle = false"></div><div class="list-input"><input type="text" class="input-list" ng-model="nor.inputKey" ng-focus="nor.focusInput = true" ng-class="{'focus-color':nor.focusInput}" ng-blur="nor.focusInput = false"></div><div class="list-defaults"><input type="text" class="input-list" ng-model="nor.value" ng-focus="nor.focusDefaults = true" ng-class="{'focus-color':nor.focusDefaults}" ng-blur="nor.focusDefaults = false"></div><div class="list-type"><button class="btn white btn-sm dropdown-toggle" data-toggle="dropdown"><span class="dropdown-label">{{nor.typeName}}</span> <span class="caret"></span></button><div class="dropdown-menu text-left text-sm"><a class="dropdown-item" ng-repeat="item in vm.type" ng-class="{'active-color':vm.paramList[idx].type == item.id}" ng-click="vm.typeSelect(item,idx,nor)">{{item.name}}</a></div></div><div class="list-drop"><div ng-if="nor.type == 'select'" class="list-drop-content"><div class="toggle-drop"><span class="toggle-drop-txt">{{nor.selectTxt[nor.type]}}</span> <span class="list-drop-span" ng-if="nor.isShow"><span ng-click="vm.toggleShow(nor)">收起</span><div ng-show="nor.isShow" class="list-drop-box"><div class="box-color text-color pos-rlt"><span class="arrow bottom b-white"></span><div class="box-body"><div class="box-body-content"><div class="select-span" ng-repeat="(key,vv) in nor.select_arrs[nor.type] track by $index"><input type="text" class="select-input-list" ng-model="vv.key" ng-focus="vv.focusDropKey = true" ng-class="{'focus-color':vv.focusDropKey,'focus-index':vv.focusDropKey}" placeholder="请输入key" ng-blur="vv.focusDropKey = false"> <input type="text" class="select-input-list" ng-model="vv.value" ng-focus="vv.focusDropValue = true" ng-class="{'focus-color':vv.focusDropValue,'focus-index':vv.focusDropValue}" placeholder="请输入value" ng-blur="vv.focusDropValue = false"> <button class="hoge-common-btn btn" ng-click="vm.deleteSelect(nor, key)">删除</button></div><div class="add-form-select" ng-click="vm.addSelected(nor)"><span class="add-icon"><i class="fa typeface-form_zengjia"></i></span> <span class="add-tex">添加数据</span></div></div><div class="box-body-bottom"><button class="btn btn-purple" ng-click="vm.saveSelect(nor)">保存</button></div></div></div></div></span><span ng-click="vm.toggleShow(nor)" class="list-drop-span" ng-if="!nor.isShow">展开</span></div></div></div><div class="list-i"><span ng-click="vm.delparam(nor)">删除</span></div></div></div><div class="add-form" ng-click="vm.addLine()"><span class="add-icon"><i class="fa typeface-form_zengjia"></i></span> <span class="add-tex">添加参数</span></div></div></div></div><div class="md-form-group" ng-show="!vm.advLoading"><button class="btn primary-btn ng-binding" ng-if="vm.id" ng-disabled="vm.saveLoading" ng-click="vm.saveDate()">更新</button> <button class="btn primary-btn ng-binding" ng-if="!vm.id" ng-disabled="vm.saveLoading" ng-click="vm.saveDate()">保存</button> <button class="btn cancel-btn ng-binding" ng-click="vm.cancelEdit()">取消</button></div></div></div></div>