<div class="mxu_add_customer"><div class="p-v-md"><div class="hoge-edit-head"><div class="hoge-return-body" onclick="history.back(-1)"><i class="fa typeface-menu_fanhuiliebiao"></i> <span class="return-tip">返回列表</span></div><em>{{vm.title}}</em></div></div><div class="box" style="box-shadow:none"><div class="box-body hoge-border"><form role="form" name="form"><div class="form-card"><div class="header">基本信息</div><div class="content"><div class="form-group"><label class="label-name">账户名称</label> <input type="text" ng-model="vm.roleInfo.username" ng-focus="vm.titleFocus = true" ng-class="{'focus-color':vm.titleFocus}" ng-blur="vm.titleFocus = false"></div><div class="form-group"><label class="label-name">姓名</label> <input type="text" ng-model="vm.roleInfo.name" ng-focus="vm.nameFocus = true" ng-class="{'focus-color':vm.nameFocus}" ng-blur="vm.nameFocus = false" maxlength="6"><div class="count" style="position:absolute"><div num-count="vm.roleInfo.name" count-top="-20" count-right="-554" count-max="6" class="m-b"></div></div></div><div class="form-group"><label class="label-name ver-top">角色</label><div class="checkbox-inline-box"><label class="checkbox-inline" ng-repeat="ck in vm.roleList"><input ng-checked="vm.itemCheck(ck)" ng-click="vm.toggle(ck)" type="checkbox">{{ck.name}}</label></div></div><div class="form-group department-group"><label class="label-name ver-top">部门</label><div class="group-box calc-width"><div class="box-body"><div class="form-pop" ng-repeat="item in vm.roleInfo.departments">{{item.name}} <i class="icon-guanbi" ng-click="vm.removeClass(item, vm.roleInfo)"></i></div><div class="form-pop add-pop" ng-click="vm.choseColumn()"><i class="fa fa-plus"></i> <span>部门</span></div></div></div></div></div></div><div class="form-card"><div class="header">安全设置</div><div class="content"><div class="form-group"><label class="label-name">密码</label> <input type="password" ng-model="vm.password" ng-focus="vm.wordFocus = true" ng-class="{'focus-color':vm.wordFocus}" ng-blur="vm.wordFocus = false" autocomplete="new-password"></div><div class="form-group"><label class="label-name">强制修改密码</label> <label class="radio-inline m-r"><input ng-model="vm.roleInfo.reset_pwd" type="radio" value="1">是</label> <label class="radio-inline"><input ng-model="vm.roleInfo.reset_pwd" type="radio" value="0">否</label></div><div class="form-group"><label class="label-name">锁定账户</label> <label class="radio-inline m-r"><input ng-model="vm.roleInfo.locked" type="radio" value="1">是</label> <label class="radio-inline"><input ng-model="vm.roleInfo.locked" type="radio" value="0">否</label></div><div class="form-group"><label class="label-name">手机号</label> <input type="text" ng-model="vm.roleInfo.phone" ng-focus="vm.phoneFocus = true" ng-class="{'focus-color':vm.phoneFocus}" ng-blur="vm.phoneFocus = false"></div></div></div><div class="more-box"><i class="typeface-edit_zhankai" ng-click="vm.showAdv()" ng-if="!vm.advShow"><span class="more-text">更多内容</span></i> <i class="typeface-edit_shouqi" ng-click="vm.showAdv()" ng-if="vm.advShow"><span class="more-text">收起</span></i></div><div class="form-card" ng-if="vm.advShow"><div class="header"><span>高级设置</span></div><div class="content"><div class="form-group"><label class="label-name">账号有效期</label> <label class="radio-inline m-r"><input ng-model="vm.roleInfo.expireTime" type="radio" value="1" ng-click="vm.getValidityTimeValue(vm.roleInfo.expireTime)">永久</label> <label class="radio-inline"><input ng-model="vm.roleInfo.expireTime" class="xr-m-t" type="radio" value="0" ng-click="vm.getValidityTimeValue(vm.roleInfo.expireTime)"><div class="time-box"><input class="date-input" placeholder="选择日期" class="form-control" ng-model="vm.timeInputInfo.date" ng-disabled="vm.timeDisable" data-date-format="yyyy-MM-dd" data-date-type="number" data-autoclose="1" data-icon-left="fa fa-chevron-left" data-icon-right="fa fa-chevron-right" name="date" autocomplete="off" data-min-date="today" bs-datepicker> <i class="icon-biaodan"></i></div></label></div><div class="form-group department-group"><label class="label-name ver-top">绑定会员</label><div class="group-box calc-width"><div class="box-body"><div class="form-pop" ng-repeat="item in vm.roleInfo.members">{{item.member_name}} <i class="icon-guanbi" ng-click="vm.removeMembers(item,vm.roleInfo.members)"></i></div><div class="form-pop add-pop" ng-click="vm.chooseMembers()"><i class="fa fa-plus"></i> <span>会员</span></div></div></div></div><div class="form-group authorize-input" ng-if="vm.authorization_code"><label class="label-name">会员授权码</label> <input type="text" ng-model="vm.roleInfo.auth_code" disabled> <span ng-click="vm.generateCode()" ng-if="!vm.generateCodeLoading">生成授权码</span> <span ng-if="vm.generateCodeLoading">生成中...</span></div><div class="form-group"><label class="label-name">开发者模式</label> <label class="radio-inline m-r"><input ng-model="vm.roleInfo.is_developer" type="radio" value="1" ng-click="vm.changeMode()">是</label> <label class="radio-inline"><input ng-model="vm.roleInfo.is_developer" type="radio" value="0">否</label></div><div class="form-group" ng-if="vm.roleInfo.is_developer == 1 && vm.advShow"><label class="label-name">Access Key</label> <input type="text" ng-model="vm.roleInfo.access_key" ng-focus="vm.keyFocus = true" ng-class="{'focus-color':vm.keyFocus}" ng-blur="vm.keyFocus = false" ng-disabled="true"></div><div class="form-group" ng-if="vm.roleInfo.is_developer == 1 && vm.advShow"><label class="label-name">Access Token</label> <input type="text" ng-model="vm.roleInfo.access_secret" ng-focus="vm.tokenFocus = true" ng-class="{'focus-color':vm.tokenFocus}" ng-blur="vm.tokenFocus = false" ng-disabled="true"></div></div></div><div class="md-form-group"><button class="btn primary-btn right-primary" ng-click="vm.save()">{{ 'user.save'| translate}}</button> <button class="btn cancel-btn right-cancel" ng-click="vm.cancel()">{{ 'user.cancel'| translate}}</button></div></form></div></div></div>