
<div class="material-modal">
    <div class="modal-header">
        <h5 class="modal-title" >CRE资源库</h5>
        <!--{{vm.typeTitle}}-->
        <i class="fa fa-remove close-icon" ng-click="vm.close()"></i>
    </div>
    <div class="time-chose">
        <div class="btn-contain btn-group">
            <!-- <button class="btn btn-outline btn-blue" ng-click="vm.typeChange('CREsources')" ng-class="{actived:vm.stateType=='CREsources'}">CRE资源</button> -->
            <!-- <span ng-click="vm.changeType('public')" ng-class="{actived:vm.srcType=='public'}">公共资源</span>
            <span ng-click="vm.changeType('personal')" ng-class="{actived:vm.srcType=='personal'}">个人资源</span> -->
        </div>
        <div class="form-group hoge-input-search pull-left black-input-search">
            <input type="text" placeholder="{{'content.search' | translate }}" ng-keypress="vm.keyPress($event)" ng-model="vm.title">
            <i class="fa typeface-searchbar_sousuo" ng-click="vm.search()"></i>
        </div>
        <div class="srcTitle pull-right">
            <div class="back-click" ng-show="vm.isshowcrumbs">
                <span class="backLast" ng-click="vm.backLast()">返回上一级</span>
                <em></em>
                <span class="backRoot" ng-click="vm.backRoot()">返回根目录</span>
            </div>
        </div>
    </div>
    <div class="modal-body">
        <!-- CRE资源库  start -->
        <div class="CREsources">
            <div class="srcList" my-loading="vm.loading">
                <hoge-error  arr-length="vm.srcList.length"></hoge-error>
                <div class="each_list" ng-repeat="list in vm.srcList track by $index" ng-if="vm.srcList.length>0">
                    <div class="srcItems" >
                        <div class="imgClass">
                            <div class="img-onlyimg" ng-if="list.type=='3'" ng-click="vm.choseList(list)"  ng-class="{'chos-item':list.is_chosed}">
                                    <img ng-src="{{list.iconUrl}}" width="28px" height="30px;">
                                </div>
                            <div class="img-square" ng-if="list.type== 16" ng-click="vm.choseList(list)"  ng-class="{'chos-item':list.is_chosed}">
                                <img src="../assets/images/mxu/sources/icon_qita.png" width="28px" height="30px;">
                            </div>
                            <div class="img-square infolder-class" ng-if="list.type=='7'" ng-click="vm.infolder(list)">
                                <img src="../assets/images/mxu/sources/icon_wenjianjia.png" width="48px" height="48px;">
                            </div>
                            <div class="img-square" ng-if="list.type== 0" ng-click="vm.choseList(list)" ng-class="{'chos-item':list.is_chosed}">
                                <img src="../assets/images/mxu/sources/icon_shipin.png" width="32px" height="20px;">
                            </div>
                            <div class="img-square" ng-if="list.type== 1" ng-click="vm.choseList(list)" ng-class="{'chos-item':list.is_chosed}">
                                <img src="../assets/images/mxu/sources/icon_yinpin.png" width="32px" height="32px;">
                            </div>
                            <div class="hover-floor" ng-if="list.type!= 7">
                                <span class="hoge-tip-arrow pull-right" ng-click="vm.repositoryPreview(list)">
                                    <i class="fa typeface-form_yulan"></i>
                                    <div class="box-color text-color pos-rlt">
                                            <span class="arrow bottom b-white"></span>
                                        <div class="box-body">预览</div>
                                    </div>
                                </span>
                            </div>
                        </div>
                        <div class="item-title">
                            {{list.originalName}}
                        </div>
                    </div>
                    <!-- <a href="{{vm.docuemnt_url}}"></a> -->
                </div>
            </div>

            <!-- //<div>{{}}</div> -->
            <div class="hoge-table-bottom" ng-if="vm.srcList.length>0">
                <page-nation  options="vm.srcPageOptions" turn-page="vm.creList()"></page-nation>
            </div>
        </div>
        <!-- CRE资源库  end -->
    </div>
    <div class="modal-footer">
        <button type="button" class="btn cancel-btn" ng-click="vm.close()">取消</button>
        <button type="button" class="btn primary-btn" ng-click="vm.save()" ng-class="{'disabled':!vm.chosed[0].id}">确认</button>
    </div>
</div>
<!-- 预览 -->
<!-- <div ng-if="vm.newsMaterialPre">
    <atlas-pre state-type="vm.stateType" atlas-loading="vm.atlasLoading"
              pre-title="vm.preTitle" atlas="vm.atlas" active-index="vm.activeIndex"
               news-material-pre="vm.newsMaterialPre" pre-close="vm.preClose()"
    ></atlas-pre>
    <video-pre state-type="vm.stateType" atlas-loading="vm.atlasLoading"  news-material-pre="vm.newsMaterialPre"
               pre-title="vm.preTitle" video="vm.video" pre-close="vm.preClose()"  video-img="vm.video_img"></video-pre>

    <div class="audio-pre new-material-pre" ng-cloak ng-if="vm.stateType == 'audio'">
        <div class="pre-body">
            <div class="media-body" >
                <div class="auido-style" my-loading="vm.audioLoading">
                    <i class="fa fa-remove close-icon" ng-click="vm.preClose()"></i>
                    <div class="control-icon">
                        <i class="fa btn-audio typeface-menu_bofang"
                        ></i>
                    </div>
                    <div class="controll-body">
                        <div class="body-title">{{vm.preTitle}}</div>
                        <div class="body-progress progress" id="progress">
                            <div class="progress-bar info" id="progress-bar"></div>
                        </div>
                        <div class="body-time">
                            <span class="current-time" id="current-time"></span>
                            <span id="durtion-time">{{vm.duration}}</span>
                        </div>
                    </div>
                </div>
                <audio id="audioTag" preload="true" ng-poster="{{vm.audioImg}}" src="{{vm.audio}}" style="width: 100%;"></audio>
            </div>
        </div>
    </div>
</div> -->
<!-- <iframe name="myiframe" id="myrame" src="{{vm.docuemnt_url}}" frameborder="0" align="left" width="200" height="200" scrolling="no">
    <p>你的浏览器不支持iframe标签</p>
</iframe> -->
<div ng-if="vm.newsrepositoryPre">
        <atlas-pre state-type="vm.file_type" atlas-loading="vm.atlasLoading"
                  pre-title="vm.preTitle" atlas="vm.images" active-index="vm.activeIndex"
                   news-material-pre="vm.newsrepositoryPre" pre-close="vm.repositoryClose()"
        ></atlas-pre>
        <video-pre state-type="vm.file_type" atlas-loading="vm.atlasLoading"  news-material-pre="vm.newsrepositoryPre"
                   pre-title="vm.preTitle" video="vm.videos" pre-close="vm.repositoryClose()"  video-img="vm.video_imgs"></video-pre>

        <div class="audio-pre new-material-pre" ng-cloak ng-if="vm.file_type == 'audio'">
            <div class="pre-body">
                <div class="media-body" >
                    <div class="auido-style" my-loading="vm.audioLoading">
                        <i class="fa fa-remove close-icon" ng-click="vm.repositoryClose()"></i>
                        <div class="control-icon">
                            <i class="fa btn-audio typeface-menu_bofang"
                            ></i>
                        </div>
                        <div class="controll-body">
                            <div class="body-title">{{vm.preTitle}}</div>
                            <div class="body-progress progress" id="progress">
                                <div class="progress-bar info" id="progress-bar"></div>
                            </div>
                            <div class="body-time">
                                <span class="current-time" id="current-time"></span>
                                <span id="durtion-time">{{vm.duration}}</span>
                            </div>
                        </div>
                    </div>
                    <audio id="audioTag" preload="true" ng-poster="{{vm.audioImg}}" src="{{vm.audio}}" style="width: 100%;"></audio>
                </div>
            </div>
        </div>
        <div class="document-pre new-material-pre" ng-cloak ng-if="vm.file_type == 'document'">
                <div class="pre-body">
                    <div class="header">
                        <span class="title">{{vm.preTitle}}</span>
                        <i class="fa fa-remove close-icon" ng-click="vm.repositoryClose()"></i>
                    </div>
                    <div class="media-body" >
                        <iframe name="myiframe" id="myrame" style="display: none" frameborder="0" align="left" width="815" height="470" scrolling="no">
                            <p>你的浏览器不支持iframe标签</p>
                        </iframe>
                    </div>
                </div>
            </div>
    </div>
