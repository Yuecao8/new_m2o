<div class="publish-list">
    <div class="list-box" >
        <div class="hoge-table-add">
            <div class="hoge-table-title">发布列表</div>
        </div>
        <div class="list_contain hoge-table-contain white">
            <div class="btn-toolbar list_bar filter-box m-l-0 m-b-0 hoge-table-search">
                <div class="btn-group dropdown m-l-0 hoge-dropdown">
                    <button class="btn dropdown-toggle " data-toggle="dropdown">
                        <span class="dropdown-label">{{vm.status.name}}</span>
                        <span class="caret"></span>
                    </button>
                    <div class="dropdown-menu text-left text-sm font-12">
                        <a class="dropdown-item" ng-repeat="state in vm.statusArr" ng-click="vm.choseStatus(state)">{{state.name}}</a>
                    </div>
                </div>

                <div class="btn-group dropdown m-r-15 hoge-dropdown">
                    <button class="btn dropdown-toggle " data-toggle="dropdown">
                        <span class="dropdown-label">{{vm.type.name}}</span>
                        <span class="caret"></span>
                    </button>
                    <div class="dropdown-menu text-left text-sm font-12">
                        <a class="dropdown-item" ng-repeat="type in vm.typeArr" ng-click="vm.choseType(type)">{{type.name}}</a>
                    </div>
                </div>

                <div class="btn-group data-search hoge-dropdown" uib-dropdown>
                    <button class="btn btn-sm" uib-dropdown-toggle>
                        <span class="dropdown-label">{{vm.currentDate.label}}</span>
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu text-left text-sm" uib-dropdown-menu>
                        <li class="dropdown-item" ng-repeat="date in vm.dateSearch" ng-click="vm.chooseDate(date)">
                            <a>{{date.label}}</a>
                        </li>
                    </ul>
                </div>
                <div ng-if="!vm.currentDate.id" class="date-picker">
                    <i class="typeface-TimePicker_riqi"></i>
                    <input type="text" readonly date-range-picker ng-model="vm.rangeDate" options="vm.rangeOptions"/>
                </div>

                <div class="form-group search-input">
                    <div class="input-group input-group-sm">
                        <input type="text" class="form-control p-x b-a rounded ng-pristine ng-untouched ng-valid ng-empty" ng-keypress="vm.keyPress($event)" ng-model="vm.title" placeholder="{{ 'publish.search'| translate}}">
                        <span class="input-group-btn">
                                <button type="submit" class="btn white b-a rounded no-shadow" ng-click="vm.search()">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                    </div>
                </div>

            </div>

            <div class="ErrorTip" ng-show=" !vm.dataList.length && !vm.listLoading">
                {{vm.errorMessage}}
            </div>
            <div class="table-header hoge-table-header" ng-show="vm.dataList.length">
                <div class="wrap b-l b-white">
                    <div class="list-ctr">
                        <i class="fa fa-bars"  ng-click="vm.sort()"></i>
                    </div>
                    <div class="list-title flex-one" translate="publish.title"></div>
                    <div class="list-column" translate="publish.column"></div>
                    <div class="list-other" >{{ 'publish.create'| translate}}</div>
                    <div class="list-i" ></div>
                </div>
                <div class="sort-board red-50" ng-show="vm.isSort">
                    <i class="fa fa-exclamation-triangle"></i>
                    {{ 'system_search.sortTip'| translate}}
                    <button class="btn btn-sm white pull-right " ng-click="vm.cancelSort()">取消</button>
                    <button class="btn btn-sm hoge-btn-blue pull-right m-r" ng-click="vm.outSort()">保存</button>
                </div>
            </div>
            <div class="list white" ui-sortable="vm.sortableOpt" ng-model="vm.dataList"  ng-show="vm.dataList.length">
                <div class="list-item hoge-item-border"
                     ng-repeat="item in vm.dataList track by $index"
                     ng-mouseenter=""
                    ng-class="{'is-top': item.is_top==1, 'is-hot': item.is_hot==1}"
                >
                    <div class="list-ctr">
                        <label class="checkbox-inline" ng-if="!vm.isSort" >
                            <input type="checkbox" value="option1" ng-checked="vm.itemCheck(item)" ng-click="vm.toggle(item)" ng-disabled="!item.can_operate">
                        </label>
                        <i class="fa fa-bars" ng-if="vm.isSort"></i>
                    </div>

                    <div class="list-title flex-one">
                        <!--示意图-->
                        <div class="list-img" >
                            <span class="img-square" ng-if="item.index_pic">
                                <img ng-src="{{item.index_pic}}">
                            </span>
                            <div class="img-square" ng-if="!item.index_pic">
                                <img src="../assets/images/mxu/img_cover.png">
                            </div>
                            <div class="publish-type">
                                <span class="type-name" ng-if="item.type=='article'">文稿</span>
                                <span class="type-name" ng-if="item.type=='gallery'">图集</span>
                                <span class="type-name" ng-if="item.type=='video'">视频</span>
                                <span class="type-name" ng-if="item.type=='audio'">音频</span>
                                <span class="type-name" ng-if="item.type=='topic'">专题</span>
                                <span class="type-name" ng-if="item.type=='link'">外链</span>
                            </div>
                        </div>
                        <div class="list-info">
                            <div class="part-one">
                                <i class="typeface-tag_huandeng" ng-if="item.is_slide==1"></i>
                                <i class="typeface-tag_remen" ng-if="item.is_hot==1"></i>
                                <a class="list-name ">
                                    <!--ng-click="vm.goPage(item)"-->
                                    {{item.title}}
                                </a>
                                <span class="label-count" ng-show="item.photo_count">{{item.photo_count}}P</span>
                                <span class="label-count" ng-show="item.type=='video' || item.type=='audio'">{{item.duration_format}}</span>
                                <div class="all-title" ng-if="item.title.length>20">
                                    <span class="jiantou arrow bottom"></span>
                                    {{item.title}}
                                </div>
                            </div>
                            <div class="part-two">
                                <div class="list-data">
                                    <span class="data-icon">
                                        <i class="typeface-form_yulan"></i>
                                        <!--<span class="statistic-data">-->
                                            {{item.click_num}}
                                        <!--</span>-->
                                    </span>
                                    <span class="data-icon" ng-if="item.comment_num > 0">
                                        <i class="typeface-gongzuotai_pinglunshu"></i>
                                        <span class="statistic-data">{{item.comment_num}}</span>
                                    </span>
                                    <span class="data-icon" ng-if="item.praise_num > 0">
                                        <i class="typeface-list_dianzan"></i>
                                        <span class="statistic-data">{{item.praise_num}}</span>
                                    </span>
                                    <span class="data-icon" ng-if="item.share_num > 0">
                                        <i class="fa typeface-list_zhuanfa mt-1"></i>
                                        <span class="statistic-data">{{item.share_num}}</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="list-column" >
                        <span><a class="item-column">{{item.column_name}}</a></span>
                    </div>

                    <div class="list-other" >
                        <span>{{item.publish_user_name}}</span>
                        <span>{{item.create_time}}</span>
                        <!--*1000-->
                    </div>
                    <div class="hoge-list-i"  ng-if="!vm.isSort" ng-mouseenter="vm.showOpera(item)" ng-mouseleave="vm.hideOpera(item)">
                        <div class="icon-tool pull-right" ng-if="item.can_operate">
                            <i class="typeface-list_caozuo hoge-list_caozuo"
                               ng-class="{'active-bg':item.searchShow}"></i>
                            <div class="pull-right list-icon-opera" ng-class="{'opera-show':item.searchShow,'opera-hide':!item.searchShow}">
                                <div class="btn-group">
                                    <button class="btn hoge-drop-icon" ng-if="vm.permission.publish.operate | right" ng-click="vm.handleStick(item,'is_top',item.is_top==1 ? 0 : 1 )">
                                        <span>{{item.is_top == 1 ? vm.DOC.cancelTop : vm.DOC.setTop}}</span>
                                        <span ng-if="item.is_top == 1" class="dropdown_xuanze"><i class="typeface-dropdown_xuanze"></i></span>
                                    </button>
                                    <button class="btn hoge-drop-icon" ng-if="vm.permission.publish.operate | right" ng-click="vm.setStatus(item,'is_hot',item.is_hot==1 ? 0 : 1 )">
                                        <span>{{item.is_hot == 1 ? vm.DOC.cancelHot : vm.DOC.setHot}}</span>
                                        <span ng-if="item.is_hot == 1"  class="dropdown_xuanze"><i class="typeface-dropdown_xuanze"></i></span>
                                    </button>
                                    <button class="btn hoge-drop-icon" ng-if="vm.permission.publish.operate | right" ng-click="vm.setStatus(item,'is_slide',item.is_slide==1 ? 0 : 1 )">
                                        <span>{{item.is_slide == 1 ? vm.DOC.cancelProjector : vm.DOC.setProjector}}</span>
                                        <span ng-if="item.is_slide == 1"  class="dropdown_xuanze"><i class="typeface-dropdown_xuanze"></i></span>
                                    </button>
                                    <div class="btn-line"></div>
                                    <!--<button class="btn hoge-drop-icon" ng-click="vm.setStyle(item)" ng-show="item.type != 'special'" translate="publish.style"></button>-->
                                    <!--<button class="btn hoge-drop-icon" ng-if="!(item.type=='outlink')" ng-click="vm.preview(item)" translate="publish.preview"></button>-->
                                    <!--推送按钮-->
                                    <button class="btn hoge-drop-icon" ng-if="item.type=='article' && (vm.permission.publish.push | right)" ng-click="vm.itemPush(item)" translate="publish.push"></button>
                                    <button class="btn hoge-drop-icon" ng-if="vm.permission.publish.delete | right" ng-click="vm.deleteItem(item)"  translate="publish.delete"></button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!--bottom-->
            <div class="list_bottom hoge-table-bottom" ng-show="vm.pageOptions.total > vm.pageOptions.pageSize">
                <div class="btn-group">
                    <label class="checkbox-inline">
                        <input type="checkbox" value="option1" ng-checked="vm.allChecked()" ng-click="vm.toggleAll()" ng-disabled="!vm.chooseList.length">
                        全选
                    </label>
                </div>
                <div class="btn-toolbar list_bar flex-one btn-box">
                    <div class="btn-group">
                        <button class="btn  del-btn" ng-if="vm.permission.publish.delete | right" ng-click="vm.deleteAll()">删除</button>
                    </div>
                </div>
                <page-nation  options="vm.pageOptions" turn-page="vm.pageChange()"></page-nation>
            </div>
        </div>
    </div>
</div>