<main class="main-form-wrap video-form-wrap">
    <nav class="hoge-nav">
        <div class="hoge-table-add">
            <div class="hoge-edit-head">
                <div class="hoge-return-body" ng-if="vm.noEdit == 'topic'" onclick="history.go(-1)">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回专题</span>
                </div>
                <div ng-if="vm.noEdit !='topic' && !vm.hotFlag && !vm.publishFlag && !vm.commentFlag&&!vm.isOriginal && !vm.reviewFlag" class="hoge-return-body" ui-sref="app.content.menu.list({type:'video',page:vm.pageCount,per_num:vm.pageSize,title:vm.listSearch, hideSynergyKind: vm.hideAccessKind ? true : null, project_id: vm.listProjectId ? vm.listProjectId : null, project_title: vm.listProjectTitle ? vm.listProjectTitle : null,status:vm.moduleStatus, category_id:vm.category_id,date_search:vm.date_search,start_time:vm.start_time,end_time:vm.end_time})">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <div ng-if="vm.hotFlag" class="hoge-return-body" ui-sref="app.hot.menu.list({page:vm.pageCount,per_num:vm.pageSize,hideSynergyKind: vm.hideAccessKind ? true : null, project_id: vm.listProjectId ? vm.listProjectId : null, project_title: vm.listProjectTitle ? vm.listProjectTitle : null,date_search:vm.date_search,start_time:vm.start_time,end_time:vm.end_time})">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <div ng-if="vm.publishFlag" class="hoge-return-body" ui-sref="app.publish.menu.list({page:vm.pageCount,per_num:vm.pageSize,type:vm.publishType, hideSynergyKind: vm.hideAccessKind ? true : null, column_id:vm.column_id,date_search:vm.date_search,start_time:vm.start_time,end_time:vm.end_time})">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <div ng-if="vm.commentFlag" class="hoge-return-body" ui-sref="app.comment.list({title:vm.listSearch, hideSynergyKind: vm.hideAccessKind ? true : null, project_id: vm.listProjectId ? vm.listProjectId : null, project_title: vm.listProjectTitle ? vm.listProjectTitle : null, date_search:vm.date_search,start_time:vm.start_time,end_time:vm.end_time})">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <div ng-if="vm.isOriginal" class="hoge-return-body"  ng-click="vm.cancelForm()">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <div ng-if="vm.reviewFlag" class="hoge-return-body" ui-sref="app.content.review.list({page:vm.pageCount,per_num:vm.pageSize,type:vm.reviewType, hideSynergyKind: vm.hideAccessKind ? true : null,date_search:vm.date_search,start_time:vm.start_time,end_time:vm.end_time})">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <em ng-if="vm.is_compose!=1 && !vm.hotFlag && vm.noEdit != 'topic'">{{vm.videoId?'编辑':'新建'}}视频</em>
                <em ng-if="vm.is_compose==1 && !vm.hotFlag && vm.noEdit != 'topic'">合成视频</em>
                <em ng-if="vm.hotFlag || vm.noEdit == 'topic'">阅读模式</em>
                 <!-- 徐瑞start -->
                <!-- 新建 -->
                <div class="video-process-width-status" ng-show="!vm.videoId && !vm.isOriginal">
                    <span class="content-pendingAudit padding-r-w">待审核</span>
                    <span class="process-span" ng-click="vm.chooseProcess()">{{vm.is_show_process ? '已选审核流程': '选择流程'}}</span>
                    <div class="process-data-box new-process-data-box" ng-if="vm.showProcessBox">
                        <div class="step-nav-box">
                            <span class="nav-box nav-title">已选流程&nbsp;&nbsp;(保存后生效)</span>
                            <span class="nav-box nav-btn-re-election" ng-click="vm.reElectionProcess()">重选</span>
                            <span class="nav-box nav-btn-clear" ng-click="vm.clearProcess()">清空</span>
                        </div>
                        <div class="step-box" ng-repeat="(stepIndex,stepItem) in vm.pro_list.nodes">
                            <span class="step-name-box">{{stepItem.rangeName}}</span>
                            <div class="flex-item">
                                <div class="step-img-box" ng-style="{'min-width': stepItem.range != 0 && 50+'px' ,'width': (stepItem.users.length > 0 && stepItem.users.length *30+'px') || (stepItem.role_departments.length > 0 && stepItem.role_departments.length *30+'px')}">
                                    <img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="stepItem.range==1">
                                    <!-- <div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"> -->

                                    <div class="user-one no-avatar-bg{{idx}}" ng-repeat="(idx,userItem) in stepItem.users" ng-style="{'left':idx*25+'px'}" ng-if="idx <= 2">
                                        <span class="avatar-34 no-avatar " ng-if="!userItem.avatar"></span>
                                        <img class="avatar-34" ng-src="{{userItem.avatar}}" alt="" ng-if="userItem.avatar">
                                        <!-- <img class="avatar-34" ng-src="userItem.avatar" alt="" ng-if="userItem.avatar"> -->
                                        <span>{{userItem.name}}</span>
                                    </div>
                                    <div class="user-range-3" ng-style="{'left':idx*25+'px'}" ng-if="stepItem.range==3" ng-repeat="(idx,userItem) in stepItem.role_departments">
                                        <img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png">
                                    </div>
                                    <span class="overflow-user" ng-if="stepItem.users.length >= 4">
                                        <i class="typeface-form_zengjia fa"></i>
                                        <span class="overflow-num">{{stepItem.users.length - 3}}</span>                       
                                    </span>
                                </div>
                                <div class="role-arrow" ng-if="stepIndex != (vm.processData.nodes.length - 1)">
                                    <i class="typeface-shengao_xiayige"></i>
                                </div>
                                <!-- hasNext -->
                                <!-- <div class="role-arrow" ng-if="stepIndex != (vm.processData.nodes.length - 1)">
                                    <i class="typeface-shengao_xiayige"></i>
                                </div> -->
                            </div>
                            
                        </div>
                    </div>
                </div>
                <!-- 编辑 -->
                <div class="video-process-width-status" ng-show="vm.videoId && vm.create_user_name == vm.user_name && !vm.isOriginal">
                    <span class="process-span" ng-if="vm.editStatus==1 && !vm.auditId" ng-click="vm.chooseProcess()">{{vm.is_show_process ? '已选审核流程': '选择流程'}}</span>
                    <div class="process-data-box" ng-if="vm.showProcessBox">
                        <div class="step-nav-box">
                            <span class="nav-box nav-title">已选流程&nbsp;&nbsp;(保存后生效)</span>
                            <span class="nav-box nav-btn-re-election" ng-click="vm.reElectionProcess()">重选</span>
                            <span class="nav-box nav-btn-clear" ng-click="vm.clearProcess()">清空</span>
                        </div>
                        <div class="step-box" ng-repeat="(stepIndex,stepItem) in vm.pro_list.nodes">
                            <span class="step-name-box">{{stepItem.rangeName}}</span>
                            <div class="flex-item">
                                <div class="step-img-box" ng-style="{'min-width': stepItem.range != 0 && 50+'px' ,'width': (stepItem.users.length > 0 && stepItem.users.length *30+'px') || (stepItem.role_departments.length > 0 && stepItem.role_departments.length *30+'px')}">
                                    <img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="stepItem.range==1">
                                    <!-- <div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}"> -->

                                    <div class="user-one no-avatar-bg{{idx}}" ng-repeat="(idx,userItem) in stepItem.users" ng-style="{'left':idx*25+'px'}" ng-if="idx <= 2">
                                        <span class="avatar-34 no-avatar " ng-if="!userItem.avatar"></span>
                                        <img class="avatar-34" ng-src="{{userItem.avatar}}" alt="" ng-if="userItem.avatar">
                                        <!-- <img class="avatar-34" ng-src="userItem.avatar" alt="" ng-if="userItem.avatar"> -->
                                        <span>{{userItem.name}}</span>
                                    </div>
                                    <div class="user-range-3" ng-style="{'left':idx*25+'px'}" ng-if="stepItem.range==3" ng-repeat="(idx,userItem) in stepItem.role_departments">
                                        <img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png">
                                    </div>
                                    <span class="overflow-user" ng-if="stepItem.users.length >= 4">
                                        <i class="typeface-form_zengjia fa"></i>
                                        <span class="overflow-num">{{stepItem.users.length - 3}}</span>                       
                                    </span>
                                </div>
                                <div class="role-arrow"ng-if="stepIndex != (vm.processData.nodes.length - 1)">
                                    <i class="typeface-shengao_xiayige"></i>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
                <!-- end-->
                 <!-- 王亚让改的 所有从发布库进去的都直接显示已发布且不可点击 -->
                 <div class="edit-width-status" ng-if="vm.is_compose!=1 && !vm.isOriginal && vm.publishFlag">
                    <span class="content-audited">已发布</span>
                </div>
                <div class="edit-width-status"  ng-class="{'other-edit-width-status': vm.editStatus!=1 || vm.create_user_name != vm.user_name}" ng-if="vm.is_compose!=1 && !vm.isOriginal && !vm.publishFlag">
                    <!-- <span class="content-pendingAudit" ng-if="vm.editStatus==1">待审核</span> -->
                    <!-- <span class="content-audited" ng-if="vm.editStatus==2">已审核</span> -->
                    <!--<span class="label primary m-l-sm light-green-200" ng-if="nor.status==3" translate="content.release">已发布</span>-->
                    <!-- <span class="content-repulsed" ng-if="vm.editStatus==4">已打回</span> -->
                    <!-- <span class="content-repulsed" ng-if="vm.editStatus==5">审核中</span> -->
                    <!-- <span class="triangle-btn" ng-if="vm.audit.id" ng-class="{'audited-green': vm.editStatus==2}"></span> -->
                    <span class="content-pendingAudit" ng-if="vm.editStatus==1 && !vm.auditId">待审核</span>
                    <span class="content-audited" ng-if="vm.editStatus==2">已审核</span>
                    <span class="content-audited" ng-if="vm.editStatus==3" translate="content.release">已发布</span>
                    <span class="content-repulsed" ng-if="vm.editStatus==4">已打回</span>
                    <span class="content-repulsed" ng-if="vm.editStatus==9">待发布</span>
                    <span class="content-repulsed" ng-if="vm.editStatus==5 || (vm.editStatus==1 && vm.auditId)">审核中</span>
                    <!-- 陈标注释的审稿二期功能 -->
                    <span class="triangle-btn status-btn" ng-style="{borderTopColor: (vm.editStatus == 2 || vm.editStatus == 3) ? '#42a65a' : '#f1453d'}" ng-if="(vm.editStatus==5 || (vm.editStatus==1 && vm.auditId) || vm.editStatus==2 || vm.editStatus==3 || vm.editStatus==4 || vm.editStatus==9) && vm.auditId" ng-click="vm.toggleShowAudit()"></span>
                    <div class="audit-contain" ng-if="vm.showAudit">
                        <div class="audit-top">
                            <button class="tog-btn" ng-click="vm.toggleLog(1)" ng-class="{'active': !vm.showLog}">基本信息</button>
                            <button class="tog-btn posi" ng-click="vm.toggleLog(2)" ng-class="{'active': vm.showLog}">审稿日志</button>
                        </div>
                        <div class="audit-mid" ng-if="!vm.showLog">
                            <div class="mid-top">
                                <span class="cur-pro">当前进度(<span ng-if="vm.editStatus==5 || (vm.editStatus==1 && vm.auditId)">{{vm.currentVideoProgress}}级审核</span><span ng-if="vm.editStatus==2 || vm.editStatus==3">审核完成</span><span ng-if="vm.editStatus==4">已打回</span><span ng-if="vm.editStatus==9">待发布</span>)</span>
                                <span class="full-pro" ng-click="vm.showFullProcess()">完整流程</span>
                                <div class="right-div" ng-if="vm.showRightDiv">
                                    <div class="box"></div>
                                    <div class="process-nodes">
                                        <div class="node-item" ng-repeat="(ndx,node) in vm.processData.nodes">
                                            <div class="node-main">
                                                <div class="node-name" ng-if="node.user.name">{{node.user.name}}</div>
                                                <div class="node-name" ng-if="(node.range == 1 || node.range == 2 || node.range == 3) && !node.user.name">
                                                    <span ng-if="node.range == 2">指定用户</span>
                                                    <span ng-if="node.range == 1">全体用户</span>
                                                    <span ng-if="node.range == 3">部门角色</span>
                                                    <img class="branch" ng-if="node.range == 3" src="/assets/images/mxu/review/icon_bumenjuese@2x.png" alt="">
                                                    <span class="content-repulsed" ng-if="node.isAuditing">审核中</span>
                                                </div>
                                                <div class="node-role flex-item">
                                                    <div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}">
                                                        <img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1">
                                                        <div class="user-img-box" ng-if="node.range==2" >
                                                            <div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3"
                                                                ng-style="{'left':idx*25+'px'}">
                                                                <img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar">
                                                                <i class="typeface-dropdown_xuanze audit-pass" ng-if="node.hasPass"></i>
                                                                <i class="typeface-form_guanbi audit-back" ng-if="node.isBlocked"></i>
                                                                <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}"  ng-if="!user.avatar">{{user.avatarName}}</span>
                                                                <div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}">
                                                                    <span class="arrow bottom b-white"></span>
                                                                    <div class="box-body">{{user.name}}</div>
                                                                </div>
                                                            </div>
                                                            <span class="overflow-user" ng-if="node.users.length >= 4">
                                                                <i class="typeface-form_zengjia fa"></i>
                                                                <span class="overflow-num">{{node.users.length-3}}</span>
                                                            </span>
                                                        </div>
                                                        <div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments">
                                                            <img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png">
                                                            <div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }">
                                                                <span class="arrow bottom b-white"></span>
                                                                <div class="box-body">{{user.role.name}}</div>
                                                            </div>
                                                        </div>
                                                        <div class="avatar-34 ellipsis-box" ng-if=" node.range == 0">
                                                            <i class="typeface-list_caozuo"></i>
                                                        </div>
                                                    </div>
                                                    <div class="role-arrow"ng-if="$index != (vm.processData.nodes.length - 1)">
                                                        <i class="typeface-shengao_xiayige"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bottom-div" ng-if="vm.showBottomDiv">
                                    <div class="box"></div>
                                    <div class="process-nodes">
                                        <div class="node-item" ng-repeat="(ndx,node) in vm.processData.nodes">
                                            <div class="node-main">
                                                <div class="node-name" ng-if="node.user.name">{{node.user.name}}</div>
                                                <div class="node-name" ng-if="(node.range == 1 || node.range == 2 || node.range == 3) && !node.user.name">
                                                    <span ng-if="node.range == 2">指定用户</span>
                                                    <span ng-if="node.range == 1">全体用户</span>
                                                    <span ng-if="node.range == 3">部门角色</span>
                                                    <img class="branch" ng-if="node.range == 3" src="/assets/images/mxu/review/icon_bumenjuese@2x.png" alt="">
                                                    <span class="content-repulsed" ng-if="node.isAuditing">审核中</span>
                                                </div>
                                                <div class="node-role flex-item">
                                                    <div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}">
                                                        <img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1">
                                                        <div class="user-img-box" ng-if="node.range==2" >
                                                            <div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3"
                                                                ng-style="{'left':idx*25+'px'}">
                                                                <img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar">
                                                                <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}"  ng-if="!user.avatar">{{user.avatarName}}</span>
                                                                <div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}">
                                                                    <span class="arrow bottom b-white"></span>
                                                                    <div class="box-body">{{user.name}}</div>
                                                                </div>
                                                            </div>
                                                            <span class="overflow-user" ng-if="node.users.length >= 4">
                                                                <i class="typeface-form_zengjia fa"></i>
                                                                <span class="overflow-num">{{node.users.length-3}}</span>
                                                            </span>
                                                        </div>
                                                        <div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments">
                                                            <img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png">
                                                            <div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }">
                                                                <span class="arrow bottom b-white"></span>
                                                                <div class="box-body">{{user.role.name}}</div>
                                                            </div>
                                                        </div>
                                                        <div class="avatar-34 ellipsis-box" ng-if=" node.range == 0">
                                                            <i class="typeface-list_caozuo"></i>
                                                        </div>
                                                    </div>
                                                    <div class="role-arrow"ng-if="$index != (vm.processData.nodes.length - 1)">
                                                        <i class="typeface-shengao_xiayige"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="process-nodes">
                                <div class="node-item" ng-repeat="(ndx,node) in vm.currentNodes">
                                    <div class="node-main">
                                        <div class="node-name" ng-if="node.user.name">{{node.user.name}}</div>
                                        <div class="node-name" ng-if="(node.range == 1 || node.range == 2 || node.range == 3) && !node.user.name">
                                            <span ng-if="node.range == 2">指定用户</span>
                                            <span ng-if="node.range == 1">全体用户</span>
                                            <span ng-if="node.range == 3">部门角色</span>
                                            <img class="branch" ng-if="node.range == 3" src="/assets/images/mxu/review/icon_bumenjuese@2x.png" alt="">
                                            <span class="content-repulsed" ng-if="node.isAuditing">审核中</span>
                                        </div>
                                        <div class="node-role flex-item">
                                            <div class="role-img" ng-style="{'min-width': node.range != 0 && 50+'px' ,'width': (node.users.length > 0 && node.users.length *30+'px') || (node.role_departments.length > 0 && node.role_departments.length *30+'px')}">
                                                <img class="avatar-34 usual-img" src="/assets/images/mxu/review/shengao_head_quanbuyonghu@2x.png" alt="" ng-if="node.range==1">
                                                <div class="user-img-box" ng-if="node.range==2" >
                                                    <div class="hoge-tip-arrow avatar-34 usual-img" ng-repeat="(idx,user) in node.users | limitTo:3"
                                                        ng-style="{'left':idx*25+'px'}">
                                                        <i class="typeface-dropdown_xuanze audit-pass" ng-if="node.hasPass"></i>
                                                        <i class="typeface-form_guanbi audit-back" ng-if="node.isBlocked"></i>
                                                        <img class="avatar-34" ng-src="{{user.avatar}}" ng-if="user.avatar">
                                                        <span class="avatar-34 no-avatar no-avatar-bg{{user.bgColor}}"  ng-if="!user.avatar">{{user.avatarName}}</span>
                                                        <div class="box-color text-color pos-rlt" ng-style="{'width': user.name.length * 13+'px','left': user.name.length> 3 && (-(user.name.length -3)*4) -2 + 'px'}">
                                                            <span class="arrow bottom b-white"></span>
                                                            <div class="box-body">{{user.name}}</div>
                                                        </div>
                                                    </div>
                                                    <span class="overflow-user" ng-if="node.users.length >= 4">
                                                        <i class="typeface-form_zengjia fa"></i>
                                                        <span class="overflow-num">{{node.users.length-3}}</span>
                                                    </span>
                                                </div>
                                                <div class="hoge-tip-arrow avatar-34 usual-img" ng-style="{'left':idx*25+'px'}" ng-if="node.range==3" ng-repeat="(idx,user) in node.role_departments">
                                                    <img class="avatar-34" src="/assets/images/mxu/review/shengao_head_bumenjuese@2x.png">
                                                    <div class="box-color text-color pos-rlt" ng-style="{'width': user.role.name.length * 13+'px','left': user.role.name.length> 3 && (-(user.role.name.length -3)*4) -2 + 'px' }">
                                                        <span class="arrow bottom b-white"></span>
                                                        <div class="box-body">{{user.role.name}}</div>
                                                    </div>
                                                </div>
                                                <div class="avatar-34 ellipsis-box" ng-if=" node.range == 0">
                                                    <i class="typeface-list_caozuo"></i>
                                                </div>
                                            </div>
                                            <div class="role-arrow" ng-if="node.hasNext">
                                                <i class="typeface-shengao_xiayige"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mid-bottom">
                                <div class="title">稿件评论({{vm.commentList.length}})</div>
                                <div class="content">
                                    <div class="no-data" ng-if="!vm.commentList.length && !vm.commentLoading">
                                        <div>
                                            <img class="no-data-img" src="/assets/images/mxu/review/img_nothing@2x.png" alt="">
                                            <p class="text">暂无评论</p>
                                        </div>
                                    </div>
                                    <div class="item" ng-repeat="comment in vm.commentList track by $index">
                                        <img class="image" ng-src="{{comment.user.avatar}}" ng-if="comment.user.avatar" alt="">
                                        <span class="image no-avatar-bg{{comment.user.bgColor}}" ng-if="!comment.user.avatar">{{comment.user.avatarName}}</span>
                                        <div class="name">
                                            <span>{{comment.user.name}}</span>
                                            <span class="time">{{comment.time}}</span>
                                        </div>
                                        <p class="comment">{{comment.content}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="audit-bottom" ng-if="!vm.showLog">
                            <input type="text" class="bottom-input" ng-model="vm.comment" placeholder="输入评论">
                            <button class="primary-btn" ng-click="vm.setComment()">确定</button>
                        </div>
                        <div class="audit-mid" ng-if="vm.showLog">
                            <div class="no-data" ng-if="!vm.logList.length && !vm.logLoading">暂无数据</div>
                            <div class="log-item" ng-repeat="log in vm.logList track by $index">
                                <p class="time">{{log.created_at}}</p>
                                <p class="operation">{{log.name}} {{log.operationName}} 了该稿件。<span ng-if="log.operation == 2">评论：{{log.reason}}</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div class="form-content hoge-flex" ng-class="{'no-event':vm.noEdit}">
        <aside class="left-aside default-left">
            <div class="side_form_fixed">
                <content-attr dropdown-show="vm.showDropdown" is-zyshow="vm.showZY" is-Original="vm.isOriginal" content-param="vm.contentParam" detail-category-name="vm.detailCategoryName" detail-column-name="vm.detailColumnName" detail-fenlei-name="vm.detailFenleiName" open-base="vm.openBase" cover-style="vm.coverStyle" article-type="'video'"></content-attr>
            </div>
        </aside>
        <div>
            <div class="main-form-content hoge-border">
                <div class="content-form-title" my-loading="vm.loading" load-signs="'videoLoading'">
                    <div class="title-box list-title">
                        <textarea type="text" name="title" autocomplete="off"
                               placeholder="请输入视频标题" maxlength="300" ng-model="vm.videoDetail.title" ng-class="{'mengyu-font': vm.resMengyu(vm.videoDetail.title)}" ng-blur="vm.relevant('blur')"></textarea>
                            <div  class="mengyu-title" ng-if="vm.resMengyu(vm.videoDetail.title)">
                                <span class="jiantou arrow bottom"></span>
                                <span class="hideTitle">{{vm.videoDetail.title}}</span>
                            </div>                       
                        <content-title-tip is-zyshow="vm.showZY" tip-title="vm.videoDetail.title" top="12"></content-title-tip>
                    </div>

                </div>
                <div class='videoCHoose' ng-if="vm.videoChoose.length>0">
                    <div class="videoch btn-blue" ng-repeat='(key,type) in vm.videoChoose' ng-class="{actived:key==vm.activedIndex}">
                        <a class="videoa" ng-click="vm.chooseVideo(key,type)">{{type.name}}</a>
                    </div>
                    
                </div>
                <div class="video-content">

                    <div class="form-video flex-item" >

                        <div class="hoge-flex-one video-upload flex-item">
                            <div ng-if="!vm.videoId" class="no-video-id">
                                <div class="upload-box" ng-if="!vm.videoList.length && !vm.showOnline" multiple>
                                    <div >
                                        <!-- lifei-->
                                        <div class="box-top" ng-click="vm.selectUpload()">
                                            <img class="upload-img" src="/assets/images/mxu/file_upload@2x.png" alt="">
                                            <span class="upload-chose">选择视频文件</span>
                                            <!-- <span class="upload-tip" ng-style="{'margin-bottom': vm.showCre?'10px':'30px'}">可将视频文件拖到此区域</span> -->
                                            <!-- <input class="input-inner" id="input-inner" type="file" accept=".wmv,.avi,.dat,.asf,.rm,.rmvb,.mpg,.mpeg,.3gp,.mov,.mp4,.m4v,.
                                            dvix,.dv,.dat,.mkv,.flv,.vob,.qt,.divx,.cpk,.fli,.flc,.mod,.m4a,.f4v,.3ga,.caf,.vob,.ts" nv-file-select="" uploader="vm.uploader" multiple/> -->
                                        </div>
                                        <span class="cre-chose" ng-if="vm.showCre" ng-click="vm.MaterialRef()">素材引用</span>
                                    </div>
                                    <!--<span class="online-chose" ng-click="vm.showVideoOnline()">在线视频</span>-->
                                </div>
                                <div class="video-list-box" ng-if="vm.videoList.length && !vm.showOnline">
                                    <!-- <span class="list-tip">已选文件:</span> -->
                                    <div class="list-tip">
                                        <span>已选文件:</span>
                                        <div class="chose-file" ng-if="vm.isShowOpen">
                                            <span class="chose-span" ng-if="">选择文件&nbsp;&nbsp;|</span>
                                            <div class="switch-box result-switch">
                                                    <div class="label-title title-length-5 ">
                                                        视频分析
                                                        <div class="question-box">
                                                            <i class="subtitle-i typeface-form_tishi"></i>
                                                            <div class="question-hover">开启后，对视频内的语音及人物进行分析，支持进行快速编辑，可添加标签和题词，查看人物信息。<span class="question-tip"></span></div>
                                                        </div>
                                                    :</div>
                                                    <label class="ui-switch switch-r switch-position">
                                                        <span class="switch-open">开</span>
                                                        <span class="switch-close">关</span>
                                                        <input type="checkbox" ng-checked="vm.videoAnalysis" ng-click="vm.resultChecked()">
                                                        <i></i>
                                                    </label>
                                                </div>
                                        </div>
                                    </div>
                                    <span class="list-box flex-item hoge-flex-center">
                                        <img src="/assets/images/mxu/news/icon_wengaoziyuan_shipin@2x.png" alt="">
                                        <span class="video-title" ng-if="!vm.creSource">{{vm.videoList[0].file.name}}</span>
                                        <span class="video-title" ng-if="vm.creSource">{{vm.videoName}}</span>
                                        <span class="video-close" ng-click="vm.deleteVideo()">
                                            <i class="typeface-form_guanbi fa"></i>
                                            <i class="typeface-bar_chexiao fa"></i>
                                        </span>
                                    </span>
                                    <!-- lifei -->
                                    <div class="list-tip">
                                        <span ng-if="!vm.creSource">转码配置:</span>
                                        <span class="chose-set" ng-click="vm.choseSetting()" ng-if="">选择配置</span>
                                    </div>
                                    <span class="list-kind" ng-if="!vm.creSource" ng-repeat="list in vm.settingIds">{{list.name}}<span style="margin-left:10px" ng-if="vm.is_transcode == 0">(不转码)</span></span>
                                </div>
                                <!-- <div></div> -->
                                <div class="video-online" ng-if="vm.showOnline">
                                    <span class="list-tip">在线视频地址:</span>
                                    <span class="list-box flex-item hoge-flex-center">
                                        <div ng-if="!vm.editOnline">
                                            <span class="video-title" >{{vm.videoDetail.online}}</span>
                                            <i class="typeface-form_edit fa" ng-click="vm.onlineEdit()"> </i>
                                            <span class="video-close">
                                                <i class="typeface-form_guanbi fa"></i>
                                                <i class="typeface-bar_chexiao fa" ng-click="vm.deleteVideo()"></i>
                                            </span>
                                        </div>
                                        <div ng-if="vm.editOnline" class="online-edit flex-item hoge-flex-center">
                                            <input type="text" ng-model="vm.videoDetail.online"
                                                placeholder="请输入在线视频地址"
                                                id="online-input">
                                            <button class="btn primary-btn" ng-click="vm.onlineEdit()">确认</button>
                                            <button class="btn hoge-white-btn" ng-click="vm.cancelEdit()">取消</button>
                                        </div>

                                    </span>
                                </div>
                                <!--进度条-->
                                <div class="upload-progress flex-item hoge-flex-center hoge-flex-justify-center" ng-if="vm.onprocess">
                                    <div>
                                        <span>上传中，请稍等…</span>
                                        <div class="progress">
                                            <div class="progress-bar primary" ng-style="{width:vm.videoList[0].progress+'%'}"></div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div class="pre-box flex-item hoge-flex-justify-center hoge-flex-center"
                                 ng-if="vm.videoId"
                                ng-class="{'bg-white':vm.videoDetail.transcode_status==2,
                                'under-index':vm.videoDetail.transcode_status==2&&vm.is_compose !=1 &&vm.videoShow,'common-index':!vm.videoShow && vm.videoDetail.transcode_status==2}"
                            >
                                <!--<span class="bofang-icon" ng-click="vm.toPlayVideo()" ng-if="!vm.videoIsPlay">-->
                                <!--<i class="fa typeface-menu_bofang"></i>-->
                                <!--</span>-->
                                <div class="video-list-box" ng-if="vm.videoDetail.transcode_status!=2 && !vm.loading">
                                    <span class="list-tip">视频转码:</span>
                                    <span class="list-box flex-item hoge-flex-center">
                                     <img ng-src="{{vm.videoDetail.index_pic}}" ng-if="vm.videoDetail.index_pic" alt="">
                                     <img src="/assets/images/mxu/img_cover.png" ng-if="!vm.videoDetail.index_pic" alt="">
                                    <div class="status-info">
                                        <div class="info-top">
                                            <span class="video-title">{{vm.videoDetail.origin_filename}}</span>
                                            <span class="status-tip" ng-if="vm.videoDetail.transcode_status == 0">等待转码</span>
                                            <span class="status-tip" ng-if="vm.videoDetail.transcode_status == 1">正在转码</span>
                                            <span class="status-tip status-fail" ng-if="vm.videoDetail.transcode_status == -1">
                                                <i class="fa typeface-alert_jinggao"></i>
                                                转码失败
                                            </span>
                                        </div>
                                        <div class="progress active" ng-if="vm.videoDetail.transcode_status == 0">
                                            <div class="progress-bar info" style="width: 100%;background-color: #D8E2F0;"></div>
                                        </div>
                                        <div class="progress active" ng-if="vm.videoDetail.transcode_status == 1" style="background-color: #D8E2F0;">
                                            <div class="progress-bar info" ng-style="{width:vm.percent+'%'}" style="background-color: #3598DC;"></div>
                                        </div>
                                    </div>

                                 </span>
                                </div>
                                <!-- 是否是替换 -->
                                <div class="video-list-box" ng-if="vm.replaceVideoDetial.length">
                                    <span class="list-tip">视频转码:</span>
                                    <span class="list-box flex-item hoge-flex-center">
                                        <img ng-src="{{vm.replaceVideoDetial[0].index_pic}}" ng-if="vm.replaceVideoDetial[0].index_pic" alt="">
                                        <img src="/assets/images/mxu/img_cover.png" ng-if="!vm.replaceVideoDetial[0].index_pic" alt="">
                                    <div class="status-info">
                                        <div class="info-top">
                                            <span class="video-title">{{vm.replaceVideoDetial[0].title}}</span>
                                            <span class="status-tip" ng-show="vm.repalcePro">等待转码</span>
                                            <span class="status-tip" ng-show="vm.repalceProing">正在转码</span>
                                            <span class="status-tip status-fail" ng-if="vm.videoDetail.transcode_status == -1">
                                                <i class="fa typeface-alert_jinggao"></i>
                                                转码失败
                                            </span>
                                        </div>
                                        <div class="progress active" ng-if="vm.videoDetail.transcode_status == 0">
                                            <div class="progress-bar info" style="width: 100%;background-color: #D8E2F0;"></div>
                                        </div>
                                        <div class="progress active" ng-if="vm.repalceProing" style="background-color: #D8E2F0;">
                                            <div class="progress-bar info" ng-style="{width:vm.process+'%'}" style="background-color: #3598DC;"></div>
                                        </div>
                                    </div>

                                    </span>
                                </div>
                                <!-- <video ng-show="vm.videoDetail.transcode_status==2 && vm.is_compose !=1" ng-if="vm.isReplaceVod"
                                       id="really-cool-video" class="video-js vjs-big-play-centered video-js vjs-default-skin can-event" controls   preload="auto"  style="width:100%;height: 100%;" poster="{{vm.videoDetail.index_pic}}" data-setup='{}'>
                                </video>  -->
                                <!-- 是否是替换 -->
                                <video ng-show="vm.videoDetail.transcode_status==2 && vm.is_compose !=1"
                                       id="really-cool-video" class="video-js vjs-big-play-centered video-js vjs-default-skin can-event" controls   preload="auto"  style="width:100%;height: 100%;" poster="{{vm.videoDetail.index_pic}}" data-setup='{}' crossorigin="Anonymous">
                                </video>   
                                <div class="ui-video-progress"></div>                            
                                <img ng-src="{{vm.videoDetail.index_pic}}" style="max-width: 482px;height: 272px;" ng-if="vm.is_compose ==1" alt="">
                                <div class="wait_compose" ng-if="vm.is_compose ==1">
                                    <i class="typeface-video_dengdaihecheng fa"></i>
                                    <span>等待合成</span>
                                </div>

                            </div>
                        </div>
                        <div class="video-tip" ng-if="vm.videoSourceType != 'url'">
                            <div ng-if="!vm.videoId">
                                <p>1. 视频支持wmv，avi，dat，asf，rm，rmvb，mpg，mpeg，3gp，mov，mp4，m4v，dvix，dv，dat，mkv，flv，vob，qt，divx，cpk，fli，flc，mod，m4a，f4v，3ga，caf，vob，ts等主流格式的文件。</p>
                                <!-- <p>2. 上传视频大小需在2G以内，分辨率需超过360P，不超过1080P。</p> -->
                            </div>
                            <div ng-if="vm.videoId">
                                <p>视频时长：{{vm.det_duration}}秒</p>
                                <p>视频大小：{{vm.det_format_size}}</p>
                                <p>源视频大小：{{vm.videoDetail.originSize}}</p>
                                <p>视频分辨率：{{vm.det_resolution}}</p>
                                <p>宽高比：{{vm.videoDetail.media_info.video_aspect_ratio}}</p>
                                <p>视频编码：{{vm.videoDetail.media_info.video_format}}</p>
                                <input type="text" id="copy-text" class="copy-text" value = "{{vm.copyUrl}}">
                                <div class="copy-url"><p ng-click="vm.copyPlayUrl()">复制播放地址</p></div>
                                <div class="downLoad-part" ng-if='vm.is_compose !=1'>
                                    <!-- lifei -->
                                    <span class="drop-first-span can-event" ng-click="vm.showDrop()" ng-if="vm.videoDetail.transcode_status == 2 && !vm.repalceProing && !vm.repalcePro">下载<i class="fa fa-caret-down"></i>
                                        <div class="drop-div" ng-if="vm.isShowDrop">
                                            <span class="drop-span" ng-click="vm.downLoadVideo('origin')" ng-if="vm.videoDetail.origin_filename">源视频</span>
                                            <span class="drop-span" ng-click="vm.downLoadVideo('target')" ng-if="vm.videoDetail.transcode_status ==2">视频</span>
                                        </div>
                                    </span>
                                    <span class="drop-first-span notTrans can-event" ng-if="vm.videoDetail.transcode_status != 2 || vm.repalceProing || vm.repalcePro">下载<i class="fa fa-caret-down"></i>
                                        <!-- <div class="drop-div" ng-if="vm.isShowDrop">
                                            <span class="drop-span" ng-click="vm.downLoadVideo('origin')" ng-if="vm.videoDetail.origin_filename">源视频</span>
                                            <span class="drop-span" ng-click="vm.downLoadVideo('target')" ng-if="vm.videoDetail.transcode_status ==2">视频</span>
                                        </div> -->
                                    </span>
                                    <span ng-if="vm.videoChoose.length != 0" ng-click="vm.replaceVideo()">替换</span>
                                    <span ng-click="vm.delKindVideo()">删除</span>
                                    <span ng-if="vm.showEditVideoBtn" ng-click="vm.goEditPage()">制作</span>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="vedio-addrss" ng-show="!vm.videoId">
                        <span class="bf-addrss">视频地址：</span>
                        <input class="link-address" type="text" placeholder="请输入需要播放的视频地址" ng-model="vm.url" />
                    </div>
                    <!-- 敏感人物   start-->
                    <div class="sensitive-content" ng-show="vm.sensitiveMsg.length > 0" ng-if='vm.is_compose !=1'>                        
                        <div class="sensitive-title">
                            <span class="tl">人物检测</span>
                            <span class="tlink">点击查看相应关键帧</span>
                        </div>
                        <div class="sensitive-img" id="abc">
                            <div class="msg-repeat" ng-repeat="msg in vm.sensitiveMsg track by $index">
                                <div class="sen-msg" ng-click="vm.vedioPosition(msg,$index)" ng-class="{actived: $index === vm.current}">
                                    <span class="img-square">
                                        <img ng-src="{{msg.face_path}}">
                                    </span>
                                    <div class="img-square" ng-if="">
                                        <img src="../assets/images/mxu/img_cover.png">
                                    </div>
                                    <div class="msg-name">
                                        <span>{{msg.name}}</span>
                                    </div>
                                    <span class="impor">敏</span>
                                </div>                                
                            </div>
                        </div>
                        <!-- <hr>   -->
                    </div> 
                    <!-- AI分析    -->
                    <div class="ai-analysis" ng-if="vm.isAnalyzeAI" ng-style="{'border':(vm.videoDetail.ai_analyze_status == 3 ||vm.videoDetail.ai_analyze_status == 4) ?'2px solid #f4f6f9':'0'}">
                        <div class="normal" ng-if="vm.videoDetail.ai_analyze_status == 2">
                            <img src="/assets/images/mxu/video/ai/jiqiren-success.gif">
                            <span style="margin-top: 8px;">AI检测视频分析正常</span>
                        </div>
                        <div class="doing" ng-if="vm.videoDetail.ai_analyze_status == 1">
                            <img src="/assets/images/mxu/video/ai/jiqiren-wait.gif">
                            <span style="margin-top: 8px;">AI检测视频自动分析中，请耐心等待...</span>
                        </div> 
                        <div class="failure" ng-if="vm.videoDetail.ai_analyze_status == 5">
                            <img src="/assets/images/mxu/video/ai/jiqiren-error.gif">
                            <p style="margin-top: 8px;">AI检测视频分析失败，请重新上传或<span class="retry" ng-click="vm.retry()">点击重试</span></p>
                        </div>
                        <div class="refused" ng-if="vm.videoDetail.ai_analyze_status == 3 || vm.videoDetail.ai_analyze_status == 4">
                            <div class="title">
                                <span>检测到视频有<span class="number-color">{{vm.videoDetail.analyze_result.num}}</span>处<span ng-if="vm.videoDetail.ai_analyze_status == 3">疑似</span ng-if="vm.videoDetail.ai_analyze_status == 4"><span>涉嫌</span>违规，<span ng-if="vm.videoDetail.ai_analyze_status == 3">建议检查！</span><span ng-if="vm.videoDetail.ai_analyze_status == 4">建议拒绝！</span></span>
                                <span class="togglebtn" ng-click="vm.toggleShow()" ng-if="vm.isopen"><i class="zhankai"></i>展开</span>
                                <span class="togglebtn" ng-click="vm.toggleShow()" ng-if="!vm.isopen">收起<i class="shouqi"></i></span>
                            </div>
                            <div class="scroll-content" ng-if="vm.show_analysis" ng-style="{'height':vm.isopen?'0px':'270px',}">
                                <div class="detial" ng-repeat="(index,nor) in vm.videoDetail.analyze_result.image_result">
                                    <div style="position: relative;">
                                        <span class="detial_title">
                                            <!-- <i class="typeface-talking_bianjixinxi"></i> -->
                                            <img ng-if="nor.business=='politic'" src="/assets/images/mxu/video/ai/1.png">
                                            <img ng-if="nor.business=='sensitive'" src="/assets/images/mxu/video/ai/2.png">
                                            <img ng-if="nor.business=='porn'" src="/assets/images/mxu/video/ai/3.png">
                                            <img ng-if="nor.business=='terrorism'" src="/assets/images/mxu/video/ai/4.png">
                                            <img ng-if="nor.business=='illegal'" src="/assets/images/mxu/video/ai/5.png">
                                            <img ng-if="nor.business=='ad'" src="/assets/images/mxu/video/ai/6.png">
                                            <!-- <img src="/assets/images/mxu/video/ai/7.png">
                                            <img src="/assets/images/mxu/video/ai/8.png">
                                            <img src="/assets/images/mxu/video/ai/9.png"> -->
                                            {{nor.business_text}}
                                        </span>
                                        检测到<span class="number-color">{{nor.num}}</span>处{{nor.business_desc}}
                                        <span class="itembtn" ng-click="vm.toggleItem(index,nor)" ng-if="!nor.show&&nor.detail.length">展开<i class="zhankai"></i></span>
                                        <span class="itembtn" ng-click="vm.toggleItem(index,nor)" ng-if="nor.show&&nor.detail.length">收起<i class="shouqi"></i></span>
                                    </div>
                                    <div class="item" ng-repeat="time in nor.detail" ng-show="nor.show">
                                        <span class="item-time" ng-click="vm.fixPoint(time)"><i class="fa fa-play-circle-o"></i>{{time.timestamp_text}}</span>
                                        <span>{{time.labelDesc}}<span ng-if="time.label2_desc">-</span>{{time.label2_desc}}<span ng-if="time.label3_desc">-</span>{{time.label3_desc}}</span>
                                        <span class="item-img" style="display:inline;margin-left:5px;" ng-click="vm.showIMG(time)">
                                            <i class="typeface-form_tishi"></i>
                                            <!-- <div class="img-div"><img src="{{time.imageUrl}}"></div> -->
                                        </span>
                                    </div>
                                    <!-- <div>
                                        <span class="detial_title"><i class="typeface-talking_bianjixinxi" ng-if="index==0"></i><i class="typeface-form_yulanguanbi" ng-if="index==1"></i>{{nor.title}}</span>
                                        检测到<span class="number-color">3</span>处政治敏感
                                        <span class="itembtn" ng-click="vm.toggleItem(index,nor)" ng-if="!nor.show">查看全部<i class="zhankai"></i></span>
                                        <span class="itembtn" ng-click="vm.toggleItem(index,nor)" ng-if="nor.show">收起<i class="shouqi"></i></span>
                                    </div>
                                    <div class="item" ng-repeat="time in nor.data" ng-show="nor.show">
                                        <span class="item-time" ng-click="vm.fixPoint(time)"><i class="typeface-video_dengdaihecheng"></i>{{time.time}}</span>
                                        <span>{{time.mag}}</span>
                                    </div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                   
                    <!-- <canvas id="myCanvas" width="500" height="300" style="border:1px solid #d3d3d3;background:#ffffff;">         -->
                </div>               

                <content-save  ng-if="vm.noEdit !='topic'" save="vm.save()" save-audit="vm.save('saveAudit')" preview="vm.preview()" handle-cancel="vm.cancelForm()"
                               load="vm.save_loading" clicked="vm.clicked"
                               is-show="false" type="vm.contentParam.urlType" manuscript-type="vm.manuscript_type" show-zbtn="vm.showZY" id="vm.videoId" is-read-only="vm.noEdit"></content-save>
            </div>
        </div>

        <aside class="right-aside">
            <div class="draft-right">
                <div class="side_form_fixed">
                    <workcall-front ng-if="vm.initFinished" topic-array="vm.topicAssociated" topic-id="vm.topicId"></workcall-front>
                    <key-words match-key="vm.achieve()"
                               key-list="vm.keyList"
                               loading="vm.matchLoading"
                                key= "vm.key"
                               lin-key="vm.associate()"
                    ></key-words>
                    <div class="m-t">
                        <content-relevant related-ids="vm.relatedIds" relevant-list="vm.relevantList"
                                          content-id="vm.videoDetail.id" content-type="'video'"
                                          relevant-error="vm.relevantError"
                                          get-relevant="vm.getRelevantList()"
                                          is-Original="vm.isOriginal"
                        ></content-relevant>
                    </div>
                    <div class="m-t" >
                        <author-add author-ids="vm.authorIds" author-List="vm.contentParam.author_info"
                                          content-id="vm.newsInfo.id" content-type="'article'"
                                          author-error="vm.authorError"
                                          get-author="vm.getAuthorList()"
                                          is-Original="vm.isOriginal"
                                          show-Author="vm.showAuthor"
                        >
                        </author-add>
                    </div>
                    <div class="m-t" ng-if="!vm.isOriginal && vm.is_showPrelink">
                            <div class='preview' ng-click="vm.showPreviews()">
                                <img ng-src="{{vm.is_showSrc ? vm.ActiveSrc :vm.PreSrc}}" ng-mouseleave='vm.is_showSrc = false' ng-mouseenter='vm.is_showSrc = true'  alt="">
                                <p>预览链接</p>
                            </div>
                            <div class="preview-link" ng-show="vm.is_showPreview">
                                 <span class="typeface-alert_wancheng2"></span>
                                 <p>稿件已经自动保存</p>
                                 <input id='copy-text' type="text"  ng-value="vm.preLink" >
                                 <span id='copy-link' ng-click="vm.copyLink()" >复制链接</span>
                            </div>
                     </div>
                     <!-- <div class="m-t" ng-if="vm.mengyu_switch" style="width: 60px;float:right;margin-right:80px;margin-top:-60px !important;">
                        <div class="preview" >
                            <label class="ui-switch">
                                <span class="switch-open">开</span>
                                <span class="switch-close">关</span>
                                <input type="checkbox" ng-click="vm.switchMengyu()" ng-checked="vm.is_open==1">
                                <i></i>
                            </label>
                            <p style="margin-top:6px;">蒙语切换</p>
                        </div>
                    </div> -->
                </div>
                <!-- 快速评分 -->
                <div class="fast-score-box" ng-if="vm.fastScore&&vm.videoId">
                        <span ng-if="vm.videoDetail.can_score && !vm.videoDetail.base_score" ng-class="{'spanActive': !vm.videoDetail.base_score && vm.videoDetail.can_score == 1}" class="showScore" ng-mouseenter="vm.showScore(vm.videoDetail)" ng-mouseleave="vm.hideScore(vm.videoDetail)">快速<br>评分
                                        
                                <div class="score" ng-class="{'score-show':vm.videoDetail.statusShow,
                                'score-hide':!vm.videoDetail.statusShow}">
                                    <div class="score-star">
                                        <div class="star"></div><div class="functions-hint" class="input hint"></div>
                                        <!-- <span>1.0</span> -->
                                    </div>
                                    <div class="score-states">
                                        <span class="btn-deter" ng-click="vm.setScore(vm.videoDetail)">确定</span>
                                        <span class="btn-cancel" ng-click="vm.cancelScore(vm.videoDetail)">取消</span>
                                    </div>
                                </div>
                                
                        </span>
                        <!-- <span ng-if="(vm.permission.all_prms == 0 && ! vm.isCan) || (nor.status==5 || nor.status==1)" class="noCan">暂无评分</span> -->
                        <span ng-if="vm.videoDetail.can_score && vm.videoDetail.base_score" class="showScore detailScore" ng-class="{'hasSpanActive': vm.videoDetail.can_score == 1 && vm.videoDetail.base_score}" ng-mouseenter="vm.showScore(vm.videoDetail)" ng-mouseleave="vm.hideScore(vm.videoDetail)">
                            <img width="14px" height="14px" style="margin-bottom: 3px;margin-right: 3px;" src="/assets/images/mxu/workload/score/icon_star_manxing.png">
                            <span>{{vm.videoDetail.base_score}}分</span>
                                <div class="score" ng-class="{'score-show':vm.videoDetail.statusShow,
                                'score-hide':!vm.videoDetail.statusShow}">
                                    <div class="score-star">
                                        <div class="star"></div><div class="functions-hint" class="input hint"></div>
                                        <!-- <span>1.0</span> -->
                                    </div>
                                    <div class="score-state" ng-if="vm.userMsg.id == vm.videoDetail.scores.user_id">
                                        <div class="score-time">已评</div>
                                        <span class="btn-modify" ng-click="vm.changeScore(vm.videoDetail)">修改</span>
                                    </div>
                                    <div class="score-stated" ng-if="vm.userMsg.id != vm.videoDetail.scores.user_id">
                                        <div class="score-user">评分人：{{vm.videoDetail.scores.user.username}}</div>
                                        <span class="score-time">评分时间：{{vm.videoDetail.scores.updated_at}}</span>
                                    </div>
                                    <!-- <div class="score-states">
                                        <span class="btn-deter" ng-click="vm.setScore(item)">确定</span>
                                        <span class="btn-cancel">取消</span>
                                    </div> -->
                                </div>
                        </span>
                </div>
            </div>
        </aside>
    </div>
</main>
<hot-footer ng-if="vm.hotFlag" hot-id="vm.id" hot-status="vm.status" this-status="vm.thisStatus" hot-title="vm.title" type="vm.type" this-type="vm.thisType" button-id="vm.ButtonId"></hot-footer>
<div class="hogeTipModal hoge-no-edit-tip no-edit-tip-revise" ng-if="vm.noEdit">
    <div class="hoge-modal-tip hoge-tip-orgInfo">
        <i class="typeface-alert_jinggao fa"></i>
        <!-- <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList">当前稿件的审核状态为{{vm.noEditStatus == 2?'已审核':vm.noEditStatus == 9?'待发布':'审核中'}}，编辑功能不可用</span> -->
        <span class="hoge-tip-txt" ng-if="vm.noEdit==2">当前稿件权限为只读</span>
        <span class="hoge-tip-txt" ng-if="(vm.noEdit==1 && vm.hotFlag) || vm.noEdit == 'topic'">内容仅供阅读，不可编辑</span>
        <!-- 8.24调整 状态文案调整，状态细分 -->
        <!-- <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList">当前稿件的审核状态为{{vm.noEditStatus == 2?'已审核':vm.noEditStatus == 9?'待发布':'审核中'}}，编辑功能不可用</span> -->
        <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 2">当前稿件的审核状态为已审核，编辑功能不可用</span>
        <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 3">当前稿件的审核状态为已发布，编辑功能不可用</span>
        <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 5">当前稿件的审核状态为审核中，编辑功能不可用</span>
        <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && !vm.hotList && vm.noEditStatus == 9">当前稿件的审核状态为待发布，编辑功能不可用</span>        <span class="hoge-tip-txt" ng-if="vm.noEdit==2">当前稿件权限为只读</span>
        <!-- <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && vm.hotFlag">内容仅供阅读，不可编辑</span> -->
        <span class="hoge-tip-txt" ng-if="vm.noEdit==1 && !vm.hotFlag && vm.hotList">目前稿件已被采纳不可编辑</span>
    </div>
</div>
<m2o-footer is-color="true" is-show="1"></m2o-footer>