<div class="mxu_add_customer">
        <div class="p-v-md">
            <div class="hoge-edit-head">
                <div class="hoge-return-body" onclick="history.back(-1)">
                    <i class="fa typeface-menu_fanhuiliebiao" ></i>
                    <span class="return-tip">返回列表</span>
                </div>
                <em>{{vm.siteId}}融合号</em>
            </div>
        </div>
        <div class="box" style="box-shadow: none;border-radius: 4px;" my-loading="vm.edit_loading">
            <div class="box-body hoge-border">
                <form role="form" name="form">
                    <!--基本信息-->
                    <div class="form-card">
                        <div class="header">基本信息</div>
                        <div class="content">
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>派发单位：</label>
                                <input type="text" maxlength="20" ng-model="vm.subscribeInfo.unit" ng-focus="vm.unitFocus = true"
                                       ng-class="{'focus-color':vm.unitFocus}" ng-blur="vm.unitFocus = false">
                                <div class="count" style="position: absolute;top:14px;right:9px;">
                                    <div num-count="vm.subscribeInfo.unit" count-top="0" count-right="0" count-max="20" count-position="right"></div>
                                </div>
                                <!-- <div class="count" style="position: absolute">
                                    <div num-count="vm.roleInfo.name" count-top="-20" count-right="-554" count-max="6" class="m-b"></div>
                                </div> -->
                            </div>
                            <div class="form-group">
                                <label class="label-name label-position">内容简介：</label>
                                <textarea maxlength="500" name="" id="" cols="30" rows="10" ng-model="vm.subscribeInfo.intro" ng-focus="vm.introFocus = true"
                                ng-class="{'focus-color':vm.introFocus}" ng-blur="vm.introFocus = false"></textarea>
                                <div class="count text-a" style="position: absolute;top:14px;right:9px;">
                                    <div num-count="vm.subscribeInfo.intro" count-top="0" count-right="-18" count-max="500" count-position="right"></div>
                                </div>
                                <!-- <input type="text" ng-model="vm.roleInfo.username" ng-focus="vm.titleFocus = true" -->
                                        <!-- ng-class="{'focus-color':vm.titleFocus}" ng-blur="vm.titleFocus = false"> -->
                            </div>
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>选择分类：</label>
                                <div class="btn-group dropdown hoge-dropdown">
                                    <button class="btn btn-sm dropdown-toggle" style="padding-right: 24px !important;" data-toggle="dropdown">
                                        <span class="dropdown-label">{{vm.currentRegion}}</span>
                                        <span class="caret"></span>
                                    </button>
                                    <div class="dropdown-menu text-left text-sm" ng-class="{'disOpen':true}">
                                        <a class="dropdown-item" ng-repeat="region in vm.regionList track by $index" ng-click="vm.chooseRegion(region)">
                                            {{region.name}}
                                            <input id="datepicker" ng-if="vm.timeArr.length - 1 === $index" date-range-picker ng-model="vm.rangeDate" class="date-picker opacity-0"
                                                    type="text" options="vm.options"/>
                                        </a>
                                    </div>
                                </div>
                                 <div class="btn-group dropdown hoge-dropdown">
                                    <button class="btn btn-sm dropdown-toggle" style="padding-right: 24px !important;" data-toggle="dropdown">
                                        <span class="dropdown-label">{{vm.currentClass}}</span>
                                        <span class="caret"></span>
                                    </button>
                                    <div class="dropdown-menu text-left text-sm" ng-class="{'disOpen':true}">
                                        <a class="dropdown-item" ng-repeat="classItem in vm.classList track by $index" ng-click="vm.chooseClass(classItem)" ng-class="{out: vm.timeArr.length - 1 === $index}">
                                            {{classItem.name}}
                                            <input id="datepicker" ng-if="vm.timeArr.length - 1 === $index" date-range-picker ng-model="vm.rangeDate" class="date-picker opacity-0"
                                                    type="text" options="vm.options"/>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>地理坐标：</label>
                                <div class="btn-group dropdown hoge-dropdown">
                                    <button class="btn btn-sm dropdown-toggle" style="padding-right: 24px !important;" data-toggle="dropdown">
                                        <span class="dropdown-label">{{vm.currentProvince}}</span>
                                        <span class="caret"></span>
                                    </button>
                                    <div class="dropdown-menu text-left text-sm max-h" ng-class="{'disOpen':true}">
                                        <a class="dropdown-item" ng-repeat="provinceItem in vm.provinceList track by $index" ng-click="vm.chooseProvince(provinceItem)" ng-class="{out: vm.timeArr.length - 1 === $index}">
                                            {{provinceItem.name}}
                                            <input id="datepicker" ng-if="vm.timeArr.length - 1 === $index" date-range-picker ng-model="vm.rangeDate" class="date-picker opacity-0"
                                                    type="text" options="vm.options"/>
                                        </a>
                                    </div>
                                </div>
                                <div class="btn-group dropdown hoge-dropdown">
                                    <button class="btn btn-sm dropdown-toggle" style="padding-right: 24px !important;" data-toggle="dropdown">
                                        <span class="dropdown-label">{{vm.currentCity}}</span>
                                        <span class="caret"></span>
                                    </button>
                                    <div class="dropdown-menu text-left text-sm max-h" ng-class="{'disOpen':true}">
                                        <a class="dropdown-item" ng-repeat="cityItem in vm.cityList track by $index" ng-click="vm.chooseCity(cityItem)" ng-class="{out: vm.timeArr.length - 1 === $index}">
                                            {{cityItem.name}}
                                            <input id="datepicker" ng-if="vm.timeArr.length - 1 === $index" date-range-picker ng-model="vm.rangeDate" class="date-picker opacity-0"
                                                    type="text" options="vm.options"/>
                                        </a>
                                    </div>
                                </div>
                                <div class="btn-group dropdown hoge-dropdown">
                                    <button class="btn btn-sm dropdown-toggle" style="padding-right: 24px !important;" data-toggle="dropdown">
                                        <span class="dropdown-label">{{vm.currentArea}}</span>
                                        <span class="caret"></span>
                                    </button>
                                    <div class="dropdown-menu text-left text-sm max-h" ng-class="{'disOpen':true}">
                                        <a class="dropdown-item" ng-repeat="areaItem in vm.areaList track by $index" ng-click="vm.chooseArea(areaItem)" ng-class="{out: vm.timeArr.length - 1 === $index}">
                                            {{areaItem.name}}
                                            <input id="datepicker" ng-if="vm.timeArr.length - 1 === $index" date-range-picker ng-model="vm.rangeDate" class="date-picker opacity-0"
                                                    type="text" options="vm.options"/>
                                        </a>
                                    </div>
                                </div>           
                            </div> 
                            <div class="form-group">
                                <label class="label-name">默认坐标：</label>
                                <div class="location-box">
                                    经度：<input type="text" class="location" ng-model="vm.subscribeInfo.longitude" onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,'')" ng-focus="vm.longitudeFocus = true"
                                    ng-class="{'focus-color':vm.longitudeFocus}" ng-blur="vm.longitudeFocus = false">
                                    维度：<input type="text" class="location" ng-model="vm.subscribeInfo.latitude" onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,'')" ng-focus="vm.latitudeFocus = true"
                                    ng-class="{'focus-color':vm.latitudeFocus}" ng-blur="vm.latitudeFocus = false">
                                </div>
                            </div> 
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>有效时间：</label>
                                <div class="time-box">
                                    <input class="date-input" placeholder="有效时间" class="form-control"
                                            ng-model="vm.subscribeInfo.date"
                                            data-date-format="yyyy-MM-dd"
                                            data-date-type="number"
                                            data-autoclose="1"
                                            data-icon-left="fa fa-chevron-left"
                                            data-icon-right="fa fa-chevron-right"
                                            name="date" autocomplete='off'
                                            data-min-date="today"
                                            bs-datepicker>
                                    <i class="icon-biaodan"></i>
                                </div>
                                <!-- <div class="time-box">
                                    <input class="date-input" placeholder="{{ 'content.startTime' | translate }}" class="form-control"
                                            ng-model="vm.subscribeInfo.time"
                                            data-icon-left="fa fa-chevron-left"
                                            data-icon-right="fa fa-chevron-right"
                                            data-time-format="HH:mm"
                                            data-time-type="number"
                                            data-autoclose="1"
                                            placement="bottom-right" name="time"
                                            autocomplete='off'
                                            bs-timepicker>
                                    <i class="icon-shijian"></i>
                                </div> -->

                                <!-- <div class="time-body">
                                    <div class="content-time">
                                        <div class="md-form-group float-label">
                                            <div class="form-time">
                                                <div class="form-control">
                                                    <div class="row">
                                                        <div class="col-md-4 date">
                                                            <input placeholder="{{ 'content.startDate' | translate }}" class="form-control"
                                                                    ng-model="vm.push_time"
                                                                    data-date-format="yyyy-MM-dd"
                                                                    data-date-type="number"
                                                                    data-autoclose="1"
                                                                    data-icon-left="fa fa-chevron-left"
                                                                    data-icon-right="fa fa-chevron-right"
                                                                    name="date" autocomplete='off'
                                                                    data-min-date="today"
                                                                    bs-datepicker>
                                                            <i class="icon-biaodan"></i>
                                                        </div>
                                                        <div class="col-md-4 time">
                                                            <input placeholder="{{ 'content.startTime' | translate }}" class="form-control"
                                                                    ng-model="vm.push_time"
                                                                    data-icon-left="fa fa-chevron-left"
                                                                    data-icon-right="fa fa-chevron-right"
                                                                    data-time-format="HH:mm"
                                                                    data-time-type="number"
                                                                    data-autoclose="1"
                                                                    placement="bottom-right" name="time"
                                                                    autocomplete='off'
                                                                    bs-timepicker>
                                                            <i class="icon-shijian"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                <!-- <input type="text" ng-model="vm.subscribeInfo.validTime"> -->
                            </div> 
                            <div class="form-group img-box">
                                <label class="label-name label-position">图片上传：</label>
                                <div class="proveImg-box">
                                    <div class="up-box">
                                        <i class="typeface-form_zengjia" ng-if="!vm.headPortrait.src"></i>
                                        <p class="up-text" ng-if="!vm.headPortrait.src">上传头像</p>
                                        <img src="{{vm.headPortrait.src}}" alt="">
                                        <span class="delete-img" ng-show="vm.headPortrait.src" ng-click="vm.deleteHeadPortrait()">❌</span>
                                        <input type="file" class="up-pic" ng-class="{'small-up-pic': vm.headPortrait.src}" nv-file-select="" uploader="vm.LogoUploader" accept="image/gif,image/jpeg,image/png,image/psd,image/tiff,image/bmp"/>
                                    </div>
                                    <div class="up-box m-l-50" >
                                        <i class="typeface-form_zengjia" ng-if="!vm.bgImg.src"></i>
                                        <p class="up-text"ng-if="!vm.bgImg.src">上传背景图片</p>
                                        <img src="{{vm.bgImg.src}}" alt="">
                                        <span class="delete-img" ng-show="vm.bgImg.src" ng-click="vm.deletebgImg()">❌</span>
                                        <input type="file" class="up-pic" class="up-pic" ng-class="{'small-up-pic': vm.bgImg.src}" nv-file-select="" uploader="vm.BgUploader" accept="image/gif,image/jpeg,image/png,image/psd,image/tiff,image/bmp">
                                    </div>

                                </div>
                                
                                <!-- <div class="up-box m-l-50" ng-if="!vm.bgImg.src">
                                    <i class="typeface-form_zengjia"></i>
                                    <p class="up-text">上传背景图片</p>
                                    <input type="file" class="up-pic" nv-file-select="" uploader="vm.BgUploader" accept="image/gif,image/jpeg,image/png,image/psd,image/tiff,image/bmp">
                                </div>
                                <div class="up-box m-l-50" ng-if="vm.bgImg.src">
                                    <img src="{{vm.bgImg.src}}" alt="">
                                </div> -->
                                
                                    

                                <!-- <input type="file" class="up-portrait">
                                <input type="file" class="upload-bg"> -->
                            </div> 
                            <div class="form-group">
                                <label class="label-name">设置初始订阅量：</label>
                                <input type="text" ng-model="vm.subscribeInfo.subscribeNum" onkeyup="value=value.replace(/\D/g,'')" maxlength="5" ng-focus="vm.subscribeNumFocus = true"
                                ng-class="{'focus-color':vm.subscribeNumFocus}" ng-blur="vm.subscribeNumFocus = false" ng-keyup="vm.rangSubNum(vm.subscribeInfo.subscribeNum)"><span class="tips-msg">可设置0-10000范围内的任意整数</span>
                            </div>
                            <div class="form-group">
                                <label class="label-name">编辑人数限制：</label>
                                <input type="text" ng-model="vm.subscribeInfo.limitNum" onkeyup="value=value.replace(/\D/g,'')" ng-focus="vm.limitNumFocus = true"
                                ng-class="{'focus-color':vm.limitNumFocus}" ng-blur="vm.limitNumFocus = false" ng-keyup="vm.rangLimitNum(vm.subscribeInfo.limitNum)"><span class="tips-msg">可设置0-200范围内的任意整数，默认200个</span>
                            </div>
                            <!-- <div class="form-group">
                                <label class="label-name">是否为主播号：</label>
                                <label class="ui-switch switch-r switch-position">
                                    <input type="checkbox" ng-checked="vm.subscribeInfo.is_broadcast == 1" ng-click="vm.checkBroadcast()">
                                    <i></i>
                                </label>
                            </div>  -->
                        </div>
                    </div>
                    <!--运营者信息-->
                    <div class="form-card">
                        <div class="header">运营者信息</div>
                        <div class="content">
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>联系人姓名：</label>
                                <input type="text" ng-model="vm.operators.contact_name" maxlength="10" ng-focus="vm.contactNameFocus = true"
                                       ng-class="{'focus-color':vm.contactNameFocus}" ng-blur="vm.contactNameFocus = false">
                                <div class="count" style="position: absolute;top:14px;right:9px;">
                                    <div num-count="vm.operators.contact_name" count-top="0" count-right="0" count-max="10" count-position="right"></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>手机号码：</label>
                                <!-- <input type="text" ng-model="vm.subscribeInfo.phone"> -->
                                <input type="text" ng-model="vm.operators.mobile" ng-focus="vm.mobileFocus = true"
                                ng-class="{'focus-color':vm.mobileFocus}" ng-blur="vm.mobileInput()" maxlength="11" />
                                <!-- <input type="text" ng-model="vm.roleInfo.phone" ng-focus="vm.phoneFocus = true" -->
                                        <!-- ng-class="{'focus-color':vm.phoneFocus}" ng-blur="vm.phoneFocus = false"> -->
                            </div>
                            <div class="form-group">
                                <label class="label-name">邮箱：</label>
                                <input type="text" ng-model="vm.operators.email" ng-focus="vm.emailFocus = true"
                                ng-class="{'focus-color':vm.emailFocus}" ng-blur="vm.emailFocus = false">
                            </div>
                            <div class="form-group">
                                <label class="label-name id-card"><span class="must-option">*</span>身份证或机构代码：</label>
                                <input type="text" ng-model="vm.operators.identity_info" ng-focus="vm.identityInfoFocus = true"
                                ng-class="{'focus-color':vm.identityInfoFocus}" ng-blur="vm.identityInfoFocus = false">
                            </div>
                            <div class="form-group img-box">
                                <label class="label-name label-position"><span class="must-option">*</span>资质证明：</label>
                                <div class="proveImg-box">
                                    <div class="up-box provImg" ng-repeat="item in vm.qualificationUrl track by $index">
                                        <img src="{{item}}" alt="">
                                        <span class="delete-img" ng-click="vm.deleteImg(item)">❌</span>
                                    </div>
                                    <div class="up-box provImg">
                                        <i class="typeface-form_zengjia"></i>
                                        <p class="up-text">上传图片</p>
                                        <input type="file" class="up-pic" nv-file-select="" uploader="vm.ProveUploader" accept="image/gif,image/jpeg,image/png,image/psd,image/tiff,image/bmp">
                                    </div>
                                </div>
                                <!-- <div class="up-box" ng-if="!vm.proveImg.src">
                                    <i class="typeface-form_zengjia"></i>
                                    <p class="up-text">上传图片</p>
                                    <input type="file" class="up-pic" nv-file-select="" uploader="vm.ProveUploader" accept="image/gif,image/jpeg,image/png,image/psd,image/tiff,image/bmp">
                                </div>
                                <div class="up-box" ng-if="vm.proveImg.src" ng-repeat="item in vm.operators.qualification">
                                    <img src="{{vm.proveImg.src}}" alt="">
                                </div> -->
                            </div>
                            <div class="form-group">
                                <label class="label-name label-position">备注：</label>
                                <textarea name="" id="" cols="30" rows="10" ng-model="vm.operators.remark" ng-focus="vm.remarkFocus = true"
                                ng-class="{'focus-color':vm.remarkFocus}" ng-blur="vm.remarkFocus = false"></textarea>
                            </div>
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>账号：</label>
                                <input type="text" ng-disabled="vm.ifNew" ng-model="vm.operators.username" ng-focus="vm.usernameFocus = true"
                                ng-class="{'focus-color':vm.usernameFocus}" ng-blur="vm.usernameFocus = false" autocomplete>
                            </div>
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>密码：</label>
                                <input type="password" ng-model="vm.operators.password" ng-focus="vm.passwordFocus = true"
                                        ng-class="{'focus-color':vm.passwordFocus}" ng-blur="vm.passwordFocus = false" autocomplete="new-password">
                            </div>
                            <div class="form-group">
                                <label class="label-name"><span class="must-option">*</span>强制修改密码：</label>
                                <label class="radio-inline m-r">
                                    <input ng-model="vm.operators.reset_pwd" type="radio" value="1">是
                                </label>
                                <label class="radio-inline">
                                    <input ng-model="vm.operators.reset_pwd" type="radio" value="0">否
                                </label>
                            </div>
                            
                        </div>
                    </div>
    
                    <div class="md-form-group">
                        <button type="submit" class="btn primary-btn right-primary" my-loading="vm.loading" ng-click="vm.subscribeSave()">{{ 'user.save'| translate}}</button>
                        <button class="btn cancel-btn right-cancel" onclick="history.back(-1)">取消</button>
                    </div>
                </form>
    
            </div>
        </div>
    </div>