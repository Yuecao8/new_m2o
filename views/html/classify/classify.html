<div class="site-column-wrap">

    <div class="column-head">
        <!--<i class="fa fa-reply" onclick="history.back(-1)"></i> -->
        <em>{{vm.className}}管理</em>
    </div>

    <div class="column_content hoge-radius">
        <ks-swiper-container  swiper="vm.swiper" class="swiper-container"
                              observer='true'
                              slides-per-view="4"
                              pagination-clickable='true'
                              space-between= '0'
                              override-parameters="
              {'grabCursor':'true',
                   'observeParents':'true',
                   'observer':'true',
              }"

        >
            <ks-swiper-slide class="swiper-slide list_box" ng-repeat="column in vm.columnData track by $index" >
                <div class="table_header hoge-radius">
                    <div class="header">
                        <span class="column-name">{{$index + 1}}级{{vm.className}}</span>
                        <!--<i class="fa fa-bars pull-right" ng-click="vm.sort(column)" ng-if="column.length >1"></i>-->
                        <!--<button class="btn white btn-sm btn-sort" ng-click="vm.sort(column)" ng-if="column.length >1">排序</button>-->
                        <span class="btn-sort" ng-click="vm.sort(column)" ng-if="column.length >1 && vm.className == '分类'">
                            <i class="fa typeface-form_paixu"></i>
                        </span>
                        <!--<button class="btn btn-purple btn-add" ng-click="vm.goAdd('',$index)" ng-show="!column.isSort">+增加{{$index + 1}}级栏目</button>-->
                    </div>
                    <div class="add-box" ng-show="!column.isSort" ng-click="vm.goAdd('',$index)" ng-if="!(vm.type == 'member' && $index>0)">
                        <i class="fa fa-plus-circle"></i>
                        <span>新建{{vm.className}}</span>
                    </div>
                    <div class="sort_board red-50" ng-show="column.isSort">
                        <i class="fa typeface-login_tishi" style="margin-right:8px;"></i>
                        <!-- {{'column.sort' | translate}} -->
                        <span class="paixu_setting">拖拽分类排序</span>
                        <button class="btn btn-sm white pull-right " ng-click="vm.cancelSort(column,$index)">取消</button>
                        <button class="btn btn-sm hoge-btn-blue pull-right m-r" ng-click="vm.outSort(column)">保存</button>
                    </div>
                </div>
                <div ng-show="column.banSort" class="banSort"></div>
                <div class="list" ui-sortable="vm.sortableOpt" ng-model="column">
                    <div class="list_item column-list-item" ng-click="vm.goNext(item,$parent.$index+1,column.isSort)" ng-repeat="item in column"  ng-class="{'active':item.active, 'mengyu-font': vm.resMengyu(item.name)}" style="position: relative;">
                        {{item.name}}
                        <div class="pull-right next_icon">
                            <i class="fa fa-angle-right" ng-show="item.is_last == 0"></i>
                        </div>
                        <div class="pull-right icon_box">
                            <i class="fa typeface-form_edit" ng-click="vm.goEdit(item,$parent.$index)" ng-show="!column.isSort"></i>
                            <i class="fa typeface-form_shanchu" ng-click="vm.deleteItem(item,$parent.$index)" ng-show="!column.isSort"></i>
                        </div>
                        <div class="mengyu-title" ng-show="vm.resMengyu(item.name)">
                            <span class="jiantou arrow bottom"></span>
                            <span class="hideTitle">{{item.name}}</span>
                        </div>
                    </div>
                    <!--<div class="add" ng-click="vm.goAdd('',$index)" ng-show="!column.isSort">-->
                        <!--<i class="icon-tianjia"></i>-->
                        <!--{{'column.addColumn' | translate}}-->
                    <!--</div>-->
                </div>
            </ks-swiper-slide>
        </ks-swiper-container>
    </div>
</div>
<m2o-footer ></m2o-footer>