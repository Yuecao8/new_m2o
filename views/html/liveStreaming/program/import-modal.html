

<div class="shielding-modal">
        <div class="modal-header">
            <h5 class="modal-title" >选择视频</h5>
            <!--{{vm.typeTitle}}-->
            <i class="fa fa-remove close-icon" ng-click="vm.close()"></i>
        </div>
        <div class="search-box">
            <div class="form-group hoge-input-search pull-right black-input-search">
                <input type="text" placeholder="{{'content.search' | translate }}" ng-keypress="vm.keyPress($event)" ng-model="vm.title">
                <i class="fa typeface-searchbar_sousuo" ng-click="vm.search()"></i>
            </div>
        </div>
        <div class="modal-body">        
            <div class="shielding-body">
                <!--栏目分类-->
                <div class="load-class"  my-loading="vm.loading">
                        <div class="nav_classify pos-rlt" data="$state">
                                <div class="classify-list">
                                    <nav class="navside m-b">
                                        <div class="nav-border b-primary" flex>
                                            <class-tree class="classify-tree"
                                                        no-add = "true"
                                                        no-edit ="true"
                                                        no-del ="true"
                                                        tree-data="vm.navList"
                                                        sort-id="vm.storage"
                                                        get-child="vm.getChilds(item)"
                                                        select-class="vm.selectClass(param)"
                                                        tree-level="10"
                                                        is-show-item="-1"
                                            ></class-tree>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                          <!--素材列表-->
                 <div class="shielding-list">
                        <div class="list-body">
                            <hoge-error  arr-length="vm.materialList.length" load="vm.loading"></hoge-error>
                            <div class="list-contain">
                                <div class="each-item" ng-repeat="item in vm.materialList track by $index">
                                    <div class="item-img" ng-click="vm.choseItem(item)" ng-class="{'chos-item':item.is_chosed}" ng-click="vm.cancelChose(item)" ng-if="!item.is_voteDefault">
                                        <span class="img-square" ng-if="item.index_pic">
                                            <img ng-src="{{item.index_pic}}" ng-if="!vm.isVote">
                                            <img ng-src="{{item.index_pic[0].origin_url}}?imageView/0/h/150/w/200" ng-if="vm.isVote">
                                        </span>
                                        <div class="img-square" ng-if="!item.index_pic">
                                            <img src="../assets/images/mxu/img_cover.png">
                                        </div>
                                        <!--<div class="item-msg">-->
                                            <!--<span ng-if="vm.params.type != 'gallery'">{{item.duration_format}}</span>-->
                                            <!--<span ng-if="vm.params.type == 'gallery'">{{item.photo_count}}P</span>-->
                                        <!--</div>-->
                                        <div class="hover-floor" ng-if="!vm.isVote">
                                            <span ng-if="vm.params.type != 'gallery'">{{item.duration_format}}</span>
                                            <span ng-if="vm.params.type == 'gallery'">{{item.photo_count}}P</span>
                                            <span class="hoge-tip-arrow pull-right" ng-click="vm.newsMaterialPreview(item)">
                                                <i class="fa typeface-form_yulan"></i>
                                                <div class="box-color text-color pos-rlt">
                                                     <span class="arrow bottom b-white"></span>
                                                    <div class="box-body">预览</div>
                                                </div>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="item-title">
                                        {{item.title}}
                                    </div>
                                </div>
                            </div>
                            <div class="hoge-table-bottom" ng-if="vm.materialList.length!=0">
                                <page-nation  options="vm.pageOptions" turn-page="vm.getList()" ng-if="!vm.isVote"></page-nation>
                                <page-nation  options="vm.pageOptions" turn-page="vm.getVoteList()" ng-if="vm.isVote"></page-nation>
                            </div>
                        </div>
                    </div>
                </div>
                 
                
    
            </div>
           
          
        </div>
        <div class="modal-footer">
            <button type="button" class="btn cancel-btn" ng-click="vm.close()">取消</button>
            <button type="button" class="btn primary-btn" ng-click="vm.save()" ng-class="{'disabled':!vm.chosed[0].id}">确认</button>
        </div>
    </div>
    <!-- 预览 -->
<div ng-if="vm.newsMaterialPre">
        <!-- <atlas-pre state-type="vm.stateType" atlas-loading="vm.atlasLoading"
                  pre-title="vm.preTitle" atlas="vm.atlas" active-index="vm.activeIndex"
                   news-material-pre="vm.newsMaterialPre" pre-close="vm.preClose()"
        ></atlas-pre> -->
        <video-pre state-type="vm.stateType" atlas-loading="vm.atlasLoading"  news-material-pre="vm.newsMaterialPre"
                   pre-title="vm.preTitle" video="vm.video" pre-close="vm.preClose()"  video-img="vm.video_img"></video-pre>
    
        <div class="audio-pre new-material-pre" ng-cloak ng-if="vm.stateType == 'audio'">
            <div class="pre-body">
                <div class="media-body" >
                    <div class="auido-style" my-loading="vm.audioLoading">
                        <i class="fa fa-remove close-icon" ng-click="vm.preClose()"></i>
                        <div class="control-icon">
                            <i class="fa btn-audio typeface-menu_bofang"
                            ></i>
                        </div>
                        <div class="controll-body">
                            <div class="body-title">{{vm.preTitle}}</div>
                            <div class="body-progress progress" id="progress">
                                <div class="progress-bar info" id="progress-bar"></div>
                            </div>
                            <div class="body-time">
                                <span class="current-time" id="current-time"></span>
                                <span id="durtion-time">{{vm.duration}}</span>
                            </div>
                        </div>
                    </div>
                    <audio id="audioTag" preload="true" ng-poster="{{vm.audioImg}}" src="{{vm.audio}}" style="width: 100%;"></audio>
                </div>
            </div>
        </div>
    </div>
    
   
    
    
    