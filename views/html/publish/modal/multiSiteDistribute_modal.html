<div class="modal-content-publish box-shadow-md">
    <div class="modal-header">
        <h5 class="modal-title">管控签发</h5>
    </div>
    <div class="modal-body multiSiteDistribute_wrap flex-item flex-one">
        <!--左边栏-->
        <div class="column-wrap flex-item">
            <!--站点-->
            <div class="column_content flex-one">
                <div class="list_item flex-item hg-flex-center" ng-repeat="site in vm.siteList track by $index" ng-class="{'active':site.active}">
                    <!-- <input type="checkbox" ng-class="{'input_checked': site.isCheck}" ng-checked="site.isCheck" ng-click="vm.siteCheck(site)"> -->
                    <div ng-click="vm.getSiteColumn(site)" class="column_title">{{site.name}}</div>
                </div>
            </div>
            <!--column-->
            <div class="column_content column-list" ng-class="{'no-site-height':rootSiteItems.id!=0}" my-loading="vm.column_loading">
                <div class="ErrorTip" ng-show="!vm.columnData[0].length">
                    <p translate="content.noData"></p>
                </div>
                <div class="container-wrap">
                    <!-- 左箭头 -->
                    <span class="glyphicon glyphicon-triangle-left" ng-if="vm.currentTranslate > 0" ng-click="vm.changeTranslate(-1)"></span>
                    <!-- 右箭头 -->
                    <span class="glyphicon glyphicon-triangle-right" ng-if="vm.columnData && vm.columnData[3] && vm.columnData[3].length && vm.currentTranslate < vm.columnData.length - 3" ng-click="vm.changeTranslate(1)"></span>
                    <ks-swiper-container  ng-if="vm.columnData[0].length"
                        swiper="vm.swiper"
                        class="swiper-container"
                        observer='true'
                        slides-per-view="4"
                        pagination-clickable='true'
                        space-between= '0'
                        override-parameters="{'grabCursor':'true','observeParents':'true','observer':'true',}">
                        <ks-swiper-slide class="swiper-slide list_box" ng-repeat="column in vm.columnData track by $index" >
                            <div class="list" ng-model="column">
                                <div class="list_item" ng-click="vm.goNext(item,$parent.$index+1)" ng-repeat="item in column" ng-class="{'active':item.active}">
                                    <input type="checkbox" data="{{item.id}}" ng-class="{'input_checked': item.isCheck}" ng-checked="item.isCheck" ng-click="vm.columnCheck(item)">
                                    <div class="column_title">{{item.name}}</div>
                                    <div class="pull-right next_icon">
                                        <i class="icon-jinru" ng-show="item.is_last == 0"></i>
                                    </div>
                                </div>
                            </div>
                        </ks-swiper-slide>
                    </ks-swiper-container>
                </div>
            </div>
        </div>
        <!--右边栏-->
        <div class="right_site">
            <div class="title-more">
                <div class="more">
                    <div class="has_publish" translate="content.publishNum" translate-values="{num: vm.selectColumn.length}"></div>
                    <div class="history-wrap mb10">
                        <div class="btn-group dropdown hoge-dropdown">
                            <button class="btn btn-sm dropdown-toggle" data-toggle="dropdown">
                                <span class="dropdown-label">{{vm.currentgroup || '选择常用签发组'}}</span>
                                <span class="caret"></span>
                            </button>
                            <div class="dropdown-menu text-left text-sm">
                                <div class="flex-item hg-flex-center" ng-click="vm.choseGroup(group)" ng-repeat="group in vm.historyGroup track by $index">
                                    <a class="dropdown-item">{{group.name}}</a>
                                    <i class="icon-guanbi" ng-click="vm.deleteGroup($index)"></i>
                                </div>
                            </div>
                        </div>
                        <span ng-click="vm.groupVisible = true" class="action">保存签发组</span>
                        <div class="group-input flex-item flex-center" ng-if="vm.groupVisible">
                            <input type="text" class="mr10" ng-model="vm.groupName">
                            <button type="button" class="btn primary-btn mr10" ng-click="vm.saveGroup()">保存</button>
                            <button type="button" class="btn cancel-btn" ng-click="vm.groupVisible = false">{{vm.DOC.cancel}}</button>
                        </div>
                    </div>
                    <div class="operator-wrap">
                        <span ng-click="vm.batchTop(true)" class="action">全部置顶</span> /
                        <span ng-click="vm.batchTop(false)" class="action">全部取消置顶</span> /
                        <span ng-click="vm.deleteAll()" class="action">全部取消发稿</span>
                    </div>
                    <div class="site_box" ng-repeat="list in vm.columnMap">
                        <div class="box_item">
                            <span class="item_title">{{list.site_name}}</span>
                        </div>
                        <div>
                            <ul>
                                <li class="column_wrap" ng-if="list.columns.length" ng-repeat="item in list.columns">
                                    <span class="column_item">{{item.name}}</span>
                                    <span ng-click="vm.choseTop(item.id)" class="top_item glyphicon glyphicon-circle-arrow-up" ng-class="{'is_top': vm.topids.includes(item.id)}"></span>
                                    <i class="icon-guanbi" ng-click="vm.deleteCheck(item.id)"></i>
                                </li>
                                <li ng-if="!list.columns.length" style="color: #969696;" translate="content.unselected"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn primary-btn" ng-click="vm.save()" my-loading="vm.save_loading">发布</button>
        <button type="button" class="btn cancel-btn" ng-click="vm.close()">{{vm.DOC.cancel}}</button>
    </div>
</div>